<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1095.36px" preserveAspectRatio="none" style="width:1835px;height:1095px;" version="1.1" viewBox="0 0 1835 1095" width="1835.68px" zoomAndPan="magnify"><defs><filter height="300%" id="f12wrlwo9l4bet" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.24"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.48" dy="4.48" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="868.6563" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="32.48" y="111.5625"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="422.3625" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="136.5963"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="154.1838" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="592.9525"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="199.0888" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="781.13"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="354.375" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="170.59"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="67.9875" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="626.9463"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="165.095" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="815.1238"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="204.5838"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="300.1775"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="395.7713"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1203.44" y="491.365"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.9938" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1317.68" y="660.94"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="89.2675" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1317.68" y="849.1175"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="38.08" x2="38.08" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="434" x2="434" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="852.88" x2="852.88" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="1075.2" x2="1075.2" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="1208.48" x2="1208.48" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="1322.72" x2="1322.72" y1="100.3625" y2="1000.3788"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:5.0,5.0;" x1="1770.16" x2="1770.16" y1="707.2013" y2="1000.3788"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="58.24" x="5.6" y="96.9172">Estafeta</text><ellipse cx="38.08" cy="16.8" fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" rx="8.96" ry="8.96" style="stroke:#A80036;stroke-width:2.24;"/><path d="M38.08,25.76 L38.08,56 M23.52,34.72 L52.64,34.72 M38.08,56 L23.52,72.8 M38.08,56 L52.64,72.8 " fill="none" filter="url(#f12wrlwo9l4bet)" style="stroke:#A80036;stroke-width:2.24;"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="58.24" x="5.6" y="1015.5359">Estafeta</text><ellipse cx="38.08" cy="1030.1813" fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" rx="8.96" ry="8.96" style="stroke:#A80036;stroke-width:2.24;"/><path d="M38.08,1039.1413 L38.08,1069.3813 M23.52,1048.1013 L52.64,1048.1013 M38.08,1069.3813 L23.52,1086.1813 M38.08,1069.3813 L52.64,1086.1813 " fill="none" filter="url(#f12wrlwo9l4bet)" style="stroke:#A80036;stroke-width:2.24;"/><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="148.96" x="357.84" y="59.36"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="133.28" x="365.68" y="83.4772">:RegistarEntregaUI</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="148.96" x="357.84" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="133.28" x="365.68" y="1023.3759">:RegistarEntregaUI</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="204.96" x="748.72" y="59.36"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="189.28" x="756.56" y="83.4772">:RegistarEntregaController</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="204.96" x="748.72" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="189.28" x="756.56" y="1023.3759">:RegistarEntregaController</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="55.125" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="136.64" x="1004.64" y="39.6375"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="50.4" x="1047.76" y="63.7547">sessao</text><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="120.96" x="1012.48" y="83.4772">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="55.125" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="136.64" x="1004.64" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="50.4" x="1047.76" y="1023.3759">sessao</text><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="120.96" x="1012.48" y="1043.0984">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="99.68" x="1156.96" y="59.36"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="84" x="1164.8" y="83.4772">:EstafetaDB</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="99.68" x="1156.96" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="84" x="1164.8" y="1023.3759">:EstafetaDB</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="97.44" x="1272.32" y="59.36"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="81.76" x="1280.16" y="83.4772">:EntregaDB</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="97.44" x="1272.32" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="81.76" x="1280.16" y="1023.3759">:EntregaDB</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="104.16" x="1716.4" y="999.2588"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="88.48" x="1724.24" y="1023.3759">entr:Entrega</text><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="868.6563" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="32.48" y="111.5625"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="422.3625" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="136.5963"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="154.1838" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="592.9525"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="199.0888" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="428.96" y="781.13"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="354.375" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="170.59"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="67.9875" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="626.9463"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="165.095" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="847.84" y="815.1238"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="204.5838"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="300.1775"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1069.6" y="395.7713"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.6" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1203.44" y="491.365"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="33.9938" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1317.68" y="660.94"/><rect fill="#FFFFFF" filter="url(#f12wrlwo9l4bet)" height="89.2675" style="stroke:#A80036;stroke-width:1.12;" width="11.2" x="1317.68" y="849.1175"/><polygon fill="#A80036" points="415.52,132.1163,426.72,136.5963,415.52,141.0763,420,136.5963" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="43.68" x2="422.24" y1="136.5963" y2="136.5963"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="51.52" y="131.157">1</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="154.56" x="63.84" y="131.157">inicia registo de entrega</text><polygon fill="#A80036" points="834.4,166.11,845.6,170.59,834.4,175.07,838.88,170.59" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="440.16" x2="841.12" y1="170.59" y2="170.59"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="448" y="165.1508">2</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="82.88" x="460.32" y="165.1508">getEstafeta()</text><polygon fill="#A80036" points="1056.16,200.1038,1067.36,204.5838,1056.16,209.0638,1060.64,204.5838" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1062.88" y1="204.5838" y2="204.5838"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="866.88" y="199.1445">3</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="125.44" x="879.2" y="199.1445">app = getInstance()</text><polygon fill="#A80036" points="1056.16,295.6975,1067.36,300.1775,1056.16,304.6575,1060.64,300.1775" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1062.88" y1="300.1775" y2="300.1775"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="866.88" y="294.7383">4</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="176.96" x="879.2" y="294.7383">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1056.16,391.2913,1067.36,395.7713,1056.16,400.2513,1060.64,395.7713" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1062.88" y1="395.7713" y2="395.7713"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="866.88" y="390.332">5</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="78.4" x="879.2" y="390.332">nif = getNif()</text><polygon fill="#A80036" points="1190,486.885,1201.2,491.365,1190,495.845,1194.48,491.365" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1196.72" y1="491.365" y2="491.365"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="866.88" y="485.9258">6</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="175.84" x="879.2" y="485.9258">est = getEstafetaByNIF(nif)</text><polygon fill="#A80036" points="56,554.4788,44.8,558.9588,56,563.4388,51.52,558.9588" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:2.0,2.0;" x1="49.28" x2="433.44" y1="558.9588" y2="558.9588"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="62.72" y="553.5195">7</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="346.08" x="75.04" y="553.5195">solicita o nif da farmacia e o peso maximo da entrega</text><polygon fill="#A80036" points="415.52,588.4725,426.72,592.9525,415.52,597.4325,420,592.9525" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="43.68" x2="422.24" y1="592.9525" y2="592.9525"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="51.52" y="587.5133">8</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="169.12" x="63.84" y="587.5133">introduz dados solicitados</text><polygon fill="#A80036" points="834.4,622.4663,845.6,626.9463,834.4,631.4263,838.88,626.9463" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="440.16" x2="841.12" y1="626.9463" y2="626.9463"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="7.84" x="448" y="621.507">9</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="374.08" x="460.32" y="621.507">addEntrega(dataInicio, dataFim, veiculo, nif, pesoMaximo)</text><polygon fill="#A80036" points="1304.24,656.46,1315.44,660.94,1304.24,665.42,1308.72,660.94" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1310.96" y1="660.94" y2="660.94"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="866.88" y="655.5008">10</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="416.64" x="887.04" y="655.5008">entr = addEntrega(dataInicio, dataFim, veiculo, nif, pesoMaximo)</text><polygon fill="#A80036" points="1702.96,690.4538,1714.16,694.9338,1702.96,699.4138,1707.44,694.9338" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="1323.28" x2="1709.68" y1="694.9338" y2="694.9338"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="1331.12" y="689.4945">11</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="340.48" x="1351.28" y="689.4945">create(dataInicio, dataFim, veiculo, nif, pesoMaximo)</text><rect fill="#FEFECE" filter="url(#f12wrlwo9l4bet)" height="35.4025" style="stroke:#A80036;stroke-width:1.6800000000000002;" width="104.16" x="1716.4" y="669.9"/><text fill="#000000" font-family="sans-serif" font-size="15.68" lengthAdjust="spacing" textLength="88.48" x="1724.24" y="694.0172">entr:Entrega</text><polygon fill="#A80036" points="56,742.6563,44.8,747.1363,56,751.6163,51.52,747.1363" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:2.0,2.0;" x1="49.28" x2="433.44" y1="747.1363" y2="747.1363"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="62.72" y="741.697">12</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="253.12" x="82.88" y="741.697">apresenta dados e solicita confirmação</text><polygon fill="#A80036" points="415.52,776.65,426.72,781.13,415.52,785.61,420,781.13" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="43.68" x2="422.24" y1="781.13" y2="781.13"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="51.52" y="775.6908">13</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="118.72" x="71.68" y="775.6908">confirma os dados</text><polygon fill="#A80036" points="834.4,810.6438,845.6,815.1238,834.4,819.6038,838.88,815.1238" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="440.16" x2="841.12" y1="815.1238" y2="815.1238"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="448" y="809.6845">14</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="103.04" x="468.16" y="809.6845">registaEntrega()</text><polygon fill="#A80036" points="1304.24,844.6375,1315.44,849.1175,1304.24,853.5975,1308.72,849.1175" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;" x1="859.04" x2="1310.96" y1="849.1175" y2="849.1175"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="866.88" y="843.6783">15</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="127.68" x="887.04" y="843.6783">registaEntrega(entr)</text><line style="stroke:#A80036;stroke-width:1.12;" x1="1328.88" x2="1375.92" y1="883.1113" y2="883.1113"/><line style="stroke:#A80036;stroke-width:1.12;" x1="1375.92" x2="1375.92" y1="883.1113" y2="897.6713"/><line style="stroke:#A80036;stroke-width:1.12;" x1="1330" x2="1375.92" y1="897.6713" y2="897.6713"/><polygon fill="#A80036" points="1341.2,893.1913,1330,897.6713,1341.2,902.1513,1336.72,897.6713" style="stroke:#A80036;stroke-width:1.12;"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="1336.72" y="877.672">16</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="119.84" x="1356.88" y="877.672">validaEntrega(entr)</text><line style="stroke:#A80036;stroke-width:1.12;" x1="1328.88" x2="1375.92" y1="937.265" y2="937.265"/><line style="stroke:#A80036;stroke-width:1.12;" x1="1375.92" x2="1375.92" y1="937.265" y2="951.825"/><line style="stroke:#A80036;stroke-width:1.12;" x1="1323.28" x2="1375.92" y1="951.825" y2="951.825"/><polygon fill="#A80036" points="1334.48,947.345,1323.28,951.825,1334.48,956.305,1330,951.825" style="stroke:#A80036;stroke-width:1.12;"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="1336.72" y="931.8258">17</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="107.52" x="1356.88" y="931.8258">addEntrega(entr)</text><polygon fill="#A80036" points="50.4,975.7388,39.2,980.2188,50.4,984.6988,45.92,980.2188" style="stroke:#A80036;stroke-width:1.12;"/><line style="stroke:#A80036;stroke-width:1.12;stroke-dasharray:2.0,2.0;" x1="43.68" x2="433.44" y1="980.2188" y2="980.2188"/><text fill="#000000" font-family="sans-serif" font-size="14.56" font-weight="bold" lengthAdjust="spacing" textLength="15.68" x="57.12" y="974.7795">18</text><text fill="#000000" font-family="sans-serif" font-size="14.56" lengthAdjust="spacing" textLength="206.08" x="77.28" y="974.7795">informa operação bem sucedida</text><!--MD5=[4bffd05f140fe8705134256e3a17ecf9]
@startuml
autonumber
actor "Estafeta" as EST

participant ":RegistarEntregaUI" as UI
participant ":RegistarEntregaController" as CTRL
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":EstafetaDB" as ESTDB
participant ":EntregaDB" as ENTRDB
participant "entr:Entrega" as ENTR

activate EST
EST -> UI : inicia registo de entrega
activate UI
UI -> CTRL : getEstafeta()
activate CTRL
CTRL -> SESSAO: app = getInstance()
activate SESSAO
|||
deactivate SESSAO
CTRL -> SESSAO: sessao = getSessaoAtual()
activate SESSAO
|||
deactivate SESSAO

CTRL -> SESSAO: nif = getNif()
activate SESSAO
|||
deactivate SESSAO
CTRL -> ESTDB : est = getEstafetaByNIF(nif)
activate ESTDB
deactivate ESTDB
deactivate CTRL
UI - -> EST : solicita o nif da farmacia e o peso maximo da entrega
deactivate UI

EST -> UI : introduz dados solicitados
activate UI
UI -> CTRL: addEntrega(dataInicio, dataFim, veiculo, nif, pesoMaximo)
activate CTRL
CTRL -> ENTRDB : entr = addEntrega(dataInicio, dataFim, veiculo, nif, pesoMaximo)
activate ENTRDB
ENTRDB -> ENTR ** : create(dataInicio, dataFim, veiculo, nif, pesoMaximo)

deactivate ENTRDB
deactivate CTRL
UI - -> EST : apresenta dados e solicita confirmação
deactivate UI

EST -> UI : confirma os dados
activate UI
UI -> CTRL : registaEntrega()
activate CTRL
CTRL-> ENTRDB : registaEntrega(entr)
activate ENTRDB
ENTRDB -> ENTRDB : validaEntrega(entr)
ENTRDB -> ENTRDB : addEntrega(entr)
deactivate ENTRDB

UI - -> EST : informa operação bem sucedida
deactivate CTRL
deactivate UI

deactivate EST

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>