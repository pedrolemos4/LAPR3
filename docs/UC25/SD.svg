<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1770px" preserveAspectRatio="none" style="width:3472px;height:1770px;" version="1.1" viewBox="0 0 3472 1770" width="3472px" zoomAndPan="magnify"><defs><filter height="300%" id="f1synkwg7tg9uh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="1548.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="619.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1308.9141"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="544.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1338.0469"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1480.5781"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1670" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="1074.9531"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="949.6875"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="1008.8203"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1205.3516"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1367.1797"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2554" y="1509.7109"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3053.5" y="824.4219"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3207.5" y="890.5547"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="424.3281" style="stroke:#000000;stroke-width:2.0;" width="3315" x="10" y="622.4922"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="115.3984" style="stroke:#000000;stroke-width:2.0;" width="2228" x="882" y="747.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1244" x2="1244" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1372" x2="1372" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1513" x2="1513" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1675" x2="1675" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1804" x2="1804" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1936" x2="1936" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2071" x2="2071" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2219" x2="2219" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2412" x2="2412" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2559" x2="2559" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2959" x2="2959" y1="1550.3594" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3058" x2="3058" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3212" x2="3212" y1="88.2969" y2="1686.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3393" x2="3393" y1="1246" y2="1686.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="84.9951">Cliente</text><ellipse cx="49" cy="15" fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,23 L49,50 M36,31 L62,31 M49,50 L36,65 M49,50 L62,65 " fill="none" filter="url(#f1synkwg7tg9uh)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="1698.4014">Cliente</text><ellipse cx="49" cy="1711.7031" fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,1719.7031 L49,1746.7031 M36,1727.7031 L62,1727.7031 M49,1746.7031 L36,1761.7031 M49,1746.7031 L62,1761.7031 " fill="none" filter="url(#f1synkwg7tg9uh)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="72.9951">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="1705.4014">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="72.9951">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="1705.4014">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="1705.4014">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="1705.4014">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="1721.6982">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="1705.4014">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="1721.6982">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1593" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1600" y="72.9951">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1593" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1600" y="1705.4014">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1767" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1774" y="72.9951">:Cliente</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1767" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1774" y="1705.4014">:Cliente</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1852" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1859" y="72.9951">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1852" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1859" y="1705.4014">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2031" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2038" y="72.9951">:Produto</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2031" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2038" y="1705.4014">:Produto</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="2121" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="2128" y="72.9951">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="2121" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="2128" y="1705.4014">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="2356" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2363" y="72.9951">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="2356" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2363" y="1705.4014">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="2478" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="2485" y="72.9951">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="2478" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="2485" y="1705.4014">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2911" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2918" y="1705.4014">rec:Recibo</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="3017" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3024" y="72.9951">:EmailDB</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="3017" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3024" y="1705.4014">:EmailDB</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3110" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3176" y="56.6982">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3117" y="72.9951">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3110" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3176" y="1705.4014">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3117" y="1721.6982">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3325" y="1685.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3332" y="1705.4014">enc: Encomenda</text><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="1548.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="619.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1308.9141"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="544.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1338.0469"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1480.5781"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1670" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="1074.9531"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="949.6875"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="1008.8203"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1205.3516"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1367.1797"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2554" y="1509.7109"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3053.5" y="824.4219"/><rect fill="#FFFFFF" filter="url(#f1synkwg7tg9uh)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3207.5" y="890.5547"/><polygon fill="#A80036" points="610,115.4297,620,119.4297,610,123.4297,614,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="74" y="114.3638">pretende realizar uma encomenda</text><polygon fill="#A80036" points="996,144.5625,1006,148.5625,996,152.5625,1000,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="639" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="652" y="143.4966">getListClients()</text><polygon fill="#A80036" points="1227,173.6953,1237,177.6953,1227,181.6953,1231,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1233" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1025" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1037" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="1355.5,257.8281,1365.5,261.8281,1355.5,265.8281,1359.5,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1361.5" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1038" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1496,341.9609,1506,345.9609,1496,349.9609,1500,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1502" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1038" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1658,426.0938,1668,430.0938,1658,434.0938,1662,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1664" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1038" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1787.5,485.2266,1797.5,489.2266,1787.5,493.2266,1791.5,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1793.5" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1038" y="484.1606">nifCLiente = getNif()</text><polygon fill="#A80036" points="1919.5,544.3594,1929.5,548.3594,1919.5,552.3594,1923.5,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1925.5" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1038" y="543.2935">getListaStock()</text><polygon fill="#A80036" points="65,603.4922,55,607.4922,65,611.4922,61,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="71" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="84" y="602.4263">apresenta lista de produtos e pede para selecionar os produtos para a encomenda</text><path d="M10,622.4922 L88,622.4922 L88,629.4922 L78,639.4922 L10,639.4922 L10,622.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="424.3281" style="stroke:#000000;stroke-width:2.0;" width="3315" x="10" y="622.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="635.5591">loop</text><polygon fill="#A80036" points="610,656.7578,620,660.7578,610,664.7578,614,660.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="660.7578" y2="660.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="61" y="655.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="84" y="655.6919">introduz o produto</text><polygon fill="#A80036" points="996,685.8906,1006,689.8906,996,693.8906,1000,689.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="689.8906" y2="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="684.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="661" y="684.8247">produtoEncomenda(produto)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="719.0234" y2="719.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="719.0234" y2="732.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="732.0234" y2="732.0234"/><polygon fill="#A80036" points="1029,728.0234,1019,732.0234,1029,736.0234,1025,732.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="713.9575">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1047" y="713.9575">verificaProdutoStock(prod)</text><path d="M882,747.0234 L954,747.0234 L954,754.0234 L944,764.0234 L882,764.0234 L882,747.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="115.3984" style="stroke:#000000;stroke-width:2.0;" width="2228" x="882" y="747.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="897" y="760.0903">opt</text><path d="M892,769.1563 L892,794.1563 L1130,794.1563 L1130,779.1563 L1120,769.1563 L892,769.1563 " fill="#FBFB77" filter="url(#f1synkwg7tg9uh)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1120,769.1563 L1120,779.1563 L1130,779.1563 L1120,769.1563 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="898" y="786.2231">Se nao houver o produto no stock</text><polygon fill="#A80036" points="3041.5,820.4219,3051.5,824.4219,3041.5,828.4219,3045.5,824.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="3047.5" y1="824.4219" y2="824.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="819.356">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="1046" y="819.356">sendEmail(email, assunto, mensagem)</text><polygon fill="#A80036" points="3195.5,886.5547,3205.5,890.5547,3195.5,894.5547,3199.5,890.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="3201.5" y1="890.5547" y2="890.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="885.4888">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1047" y="885.4888">addNovoProduto(produto)</text><polygon fill="#A80036" points="2054,945.6875,2064,949.6875,2054,953.6875,2058,949.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2060" y1="949.6875" y2="949.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="944.6216">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1047" y="944.6216">preco = getPreco()</text><polygon fill="#A80036" points="2054,1004.8203,2064,1008.8203,2054,1012.8203,2058,1008.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2060" y1="1008.8203" y2="1008.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1003.7544">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1047" y="1003.7544">peso = getPeso()</text><polygon fill="#A80036" points="1919.5,1070.9531,1929.5,1074.9531,1919.5,1078.9531,1923.5,1074.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1925.5" y1="1074.9531" y2="1074.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1069.8872">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1047" y="1069.8872">lista = getListaProdutos()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="1134.0859" y2="1134.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="1134.0859" y2="1147.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="1147.0859" y2="1147.0859"/><polygon fill="#A80036" points="1029,1143.0859,1019,1147.0859,1029,1151.0859,1025,1147.0859" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1129.02">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1047" y="1129.02">precoTotal = getPrecoTotal()</text><polygon fill="#A80036" points="643,1172.2188,633,1176.2188,643,1180.2188,639,1176.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="1007" y1="1176.2188" y2="1176.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="649" y="1171.1528">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="671" y="1171.1528">dataPedida = getData()</text><polygon fill="#A80036" points="2202,1201.3516,2212,1205.3516,2202,1209.3516,2206,1205.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2208" y1="1205.3516" y2="1205.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1025" y="1200.2856">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="536" x="1048" y="1200.2856">enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><polygon fill="#A80036" points="3313,1230.4844,3323,1234.4844,3313,1238.4844,3317,1234.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2219" x2="3319" y1="1234.4844" y2="1234.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2226" y="1229.4185">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="2248" y="1229.4185">create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3325" y="1213.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3332" y="1233.3467">enc: Encomenda</text><polygon fill="#A80036" points="65,1275.7813,55,1279.7813,65,1283.7813,61,1279.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1279.7813" y2="1279.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="71" y="1274.7153">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="93" y="1274.7153">apresenta a encomenda e pede confirmação</text><polygon fill="#A80036" points="610,1304.9141,620,1308.9141,610,1312.9141,614,1308.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1308.9141" y2="1308.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="61" y="1303.8481">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="82" y="1303.8481">confirma</text><polygon fill="#A80036" points="996,1334.0469,1006,1338.0469,996,1342.0469,1000,1338.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1338.0469" y2="1338.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1332.981">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="661" y="1332.981">registaEncomenda(enc)</text><polygon fill="#A80036" points="2202,1363.1797,2212,1367.1797,2202,1371.1797,2206,1367.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2208" y1="1367.1797" y2="1367.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1362.1138">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1047" y="1362.1138">registaEncomenda(encomenda)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2224" x2="2266" y1="1396.3125" y2="1396.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2266" x2="2266" y1="1396.3125" y2="1409.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2225" x2="2266" y1="1409.3125" y2="1409.3125"/><polygon fill="#A80036" points="2235,1405.3125,2225,1409.3125,2235,1413.3125,2231,1409.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2231" y="1391.2466">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2253" y="1391.2466">validaEncomenda(enc)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2224" x2="2266" y1="1443.4453" y2="1443.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2266" x2="2266" y1="1443.4453" y2="1456.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2219" x2="2266" y1="1456.4453" y2="1456.4453"/><polygon fill="#A80036" points="2229,1452.4453,2219,1456.4453,2229,1460.4453,2225,1456.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2231" y="1438.3794">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2253" y="1438.3794">addEncomenda(enc)</text><polygon fill="#A80036" points="996,1476.5781,1006,1480.5781,996,1484.5781,1000,1480.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1480.5781" y2="1480.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1475.5122">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="661" y="1475.5122">novoRecibo(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2542,1505.7109,2552,1509.7109,2542,1513.7109,2546,1509.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2548" y1="1509.7109" y2="1509.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1504.645">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1047" y="1504.645">create(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2899,1534.8438,2909,1538.8438,2899,1542.8438,2903,1538.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2564" x2="2905" y1="1538.8438" y2="1538.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2571" y="1533.7778">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="2593" y="1533.7778">create(nifCliente, precoTotal, lista, dataPedida)</text><rect fill="#FEFECE" filter="url(#f1synkwg7tg9uh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2911" y="1517.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2918" y="1537.7061">rec:Recibo</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2564" x2="2606" y1="1584.1406" y2="1584.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2606" x2="2606" y1="1584.1406" y2="1597.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2565" x2="2606" y1="1597.1406" y2="1597.1406"/><polygon fill="#A80036" points="2575,1593.1406,2565,1597.1406,2575,1601.1406,2571,1597.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2571" y="1579.0747">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="2592" y="1579.0747">validateRecibo(rec)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2564" x2="2606" y1="1631.2734" y2="1631.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2606" x2="2606" y1="1631.2734" y2="1644.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2559" x2="2606" y1="1644.2734" y2="1644.2734"/><polygon fill="#A80036" points="2569,1640.2734,2559,1644.2734,2569,1648.2734,2565,1644.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2571" y="1626.2075">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="2592" y="1626.2075">addRecibo(rec)</text><polygon fill="#A80036" points="60,1664.4063,50,1668.4063,60,1672.4063,56,1668.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="626" y1="1668.4063" y2="1668.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="66" y="1663.3403">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="86" y="1663.3403">informa o sucesso da operação</text><!--MD5=[c7b447c1889fdbec87a002bee2ed4878]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDataHandler" as PDH
participant ":Produto" as PRO
participant ":EncomendaDataHandler" as EDH
participant ":EnderecoDB" as END
participant ":ReciboDataHandler" as RDH
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

CTRL - -> EMDB : sendEmail(email, assunto, mensagem)
activate EMDB
deactivate EMDB

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDataHandler" as PDH
participant ":Produto" as PRO
participant ":EncomendaDataHandler" as EDH
participant ":EnderecoDB" as END
participant ":ReciboDataHandler" as RDH
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

CTRL - -> EMDB : sendEmail(email, assunto, mensagem)
activate EMDB
deactivate EMDB

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2020.27beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>