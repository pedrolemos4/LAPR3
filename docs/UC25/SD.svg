<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2143px" preserveAspectRatio="none" style="width:3482px;height:2143px;" version="1.1" viewBox="0 0 3482 2143" width="3482px" zoomAndPan="magnify"><defs><filter height="300%" id="f13j9t4dw7gnd9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="1921.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="323.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="733.5547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="496.625"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1259.3125"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="393.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1647.9375"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="265.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="35.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="525.7578"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="392.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="792.8203"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1288.4453"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1430.9766"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="372.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1647.9375"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="265.9609"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="1946"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1382.5" y="325.0938"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480.5" y="384.2266"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480.5" y="1025.3516"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1581" y="900.0859"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1581" y="959.2188"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1155.75"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1317.5781"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1706.2031"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1857.7344"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1888" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2121" y="1460.1094"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2289" y="684.4219"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2625" y="713.5547"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3217.5" y="840.9531"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="538.8594" style="stroke:#000000;stroke-width:2.0;" width="3325" x="10" y="458.3594"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="229.9297" style="stroke:#000000;stroke-width:2.0;" width="2457" x="522" y="582.8906"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="159.6641" style="stroke:#000000;stroke-width:2.0;" width="2437.5" x="531.5" y="646.1563"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="261.9297" style="stroke:#000000;stroke-width:2.0;" width="1764" x="10" y="1751.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1292" x2="1292" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1387" x2="1387" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1485" x2="1485" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1586" x2="1586" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1700" x2="1700" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1893" x2="1893" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2013" x2="2013" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2126" x2="2126" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2293.5" x2="2293.5" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2630" x2="2630" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2969" x2="2969" y1="1500.7578" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3068" x2="3068" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3222" x2="3222" y1="88.2969" y2="2059.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3403" x2="3403" y1="1196.3984" y2="2059.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="84.9951">Cliente</text><ellipse cx="49" cy="15" fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,23 L49,50 M36,31 L62,31 M49,50 L36,65 M49,50 L62,65 " fill="none" filter="url(#f13j9t4dw7gnd9)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="2071.2607">Cliente</text><ellipse cx="49" cy="2084.5625" fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,2092.5625 L49,2119.5625 M36,2100.5625 L62,2100.5625 M49,2119.5625 L36,2134.5625 M49,2119.5625 L62,2134.5625 " fill="none" filter="url(#f13j9t4dw7gnd9)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="72.9951">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="2078.2607">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="72.9951">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="2078.2607">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1244" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1251" y="72.9951">:ClienteDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1244" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1251" y="2078.2607">:ClienteDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1350" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1357" y="72.9951">:Cliente</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1350" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1357" y="2078.2607">:Cliente</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1435" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1442" y="72.9951">:ProdutoDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1435" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1442" y="2078.2607">:ProdutoDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1546" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1553" y="72.9951">:Produto</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1546" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1553" y="2078.2607">:Produto</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1636" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1643" y="72.9951">:EncomendaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1636" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1643" y="2078.2607">:EncomendaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="1839" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1846" y="72.9951">:FarmaciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="1839" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1846" y="2078.2607">:FarmaciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1957" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1964" y="72.9951">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1957" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1964" y="2078.2607">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2079" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2086" y="72.9951">:ReciboDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2079" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2086" y="2078.2607">:ReciboDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="175" x="2204.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2211.5" y="72.9951">:PedirItemFarmaciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="175" x="2204.5" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2211.5" y="2078.2607">:PedirItemFarmaciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="2559" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2566" y="72.9951">:TransferenciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="2559" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2566" y="2078.2607">:TransferenciaDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2921" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2928" y="2078.2607">rec:Recibo</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="3027" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3034" y="72.9951">:EmailDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="3027" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3034" y="2078.2607">:EmailDB</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3120" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3186" y="56.6982">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3127" y="72.9951">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3120" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3186" y="2078.2607">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3127" y="2094.5576">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3335" y="2058.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3342" y="2078.2607">enc: Encomenda</text><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="1921.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="323.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="733.5547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="496.625"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1259.3125"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="393.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1647.9375"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="265.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="35.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="525.7578"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="392.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="792.8203"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1288.4453"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1430.9766"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="372.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1647.9375"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="265.9609"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="1946"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1382.5" y="325.0938"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480.5" y="384.2266"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1480.5" y="1025.3516"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1581" y="900.0859"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1581" y="959.2188"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1155.75"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1317.5781"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1706.2031"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1695" y="1857.7344"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1888" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2121" y="1460.1094"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2289" y="684.4219"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2625" y="713.5547"/><rect fill="#FFFFFF" filter="url(#f13j9t4dw7gnd9)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3217.5" y="840.9531"/><polygon fill="#A80036" points="610,115.4297,620,119.4297,610,123.4297,614,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="74" y="114.3638">insere a farmacia a qual quer os produtos</text><polygon fill="#A80036" points="996,144.5625,1006,148.5625,996,152.5625,1000,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="639" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="652" y="143.4966">getFarmaciaByNif(nif)</text><polygon fill="#A80036" points="1876,173.6953,1886,177.6953,1876,181.6953,1880,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1882" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1025" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1037" y="172.6294">nif = getFarmaciaByNif(nif)</text><polygon fill="#A80036" points="996,232.8281,1006,236.8281,996,240.8281,1000,236.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="236.8281" y2="236.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="639" y="231.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="652" y="231.7622">getCliente()</text><polygon fill="#A80036" points="1275,261.9609,1285,265.9609,1275,269.9609,1279,265.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1281" y1="265.9609" y2="265.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="260.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1038" y="260.895">cliente = getCliente()</text><polygon fill="#A80036" points="1370.5,321.0938,1380.5,325.0938,1370.5,329.0938,1374.5,325.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1376.5" y1="325.0938" y2="325.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="320.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1038" y="320.0278">nifCLiente = getNif()</text><polygon fill="#A80036" points="1468.5,380.2266,1478.5,384.2266,1468.5,388.2266,1472.5,384.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1474.5" y1="384.2266" y2="384.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="379.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1038" y="379.1606">getListaStock()</text><polygon fill="#A80036" points="65,439.3594,55,443.3594,65,447.3594,61,443.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="443.3594" y2="443.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="71" y="438.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="84" y="438.2935">apresenta lista de produtos e pede para selecionar os produtos para a encomenda</text><path d="M10,458.3594 L88,458.3594 L88,465.3594 L78,475.3594 L10,475.3594 L10,458.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="538.8594" style="stroke:#000000;stroke-width:2.0;" width="3325" x="10" y="458.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="471.4263">loop</text><polygon fill="#A80036" points="610,492.625,620,496.625,610,500.625,614,496.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="496.625" y2="496.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="491.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="74" y="491.5591">introduz o produto e a quantidade que pretende</text><polygon fill="#A80036" points="996,521.7578,1006,525.7578,996,529.7578,1000,525.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="525.7578" y2="525.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="639" y="520.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="662" y="520.6919">produtoEncomenda(produto,quant)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="559.8906" y2="559.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="559.8906" y2="572.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1013" x2="1060" y1="572.8906" y2="572.8906"/><polygon fill="#A80036" points="1023,568.8906,1013,572.8906,1023,576.8906,1019,572.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="554.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1047" y="554.8247">verificaProdutoStock(produto,quant)</text><path d="M522,582.8906 L594,582.8906 L594,589.8906 L584,599.8906 L522,599.8906 L522,582.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="229.9297" style="stroke:#000000;stroke-width:2.0;" width="2457" x="522" y="582.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="537" y="595.9575">opt</text><path d="M532,605.0234 L532,630.0234 L1489,630.0234 L1489,615.0234 L1479,605.0234 L532,605.0234 " fill="#FBFB77" filter="url(#f13j9t4dw7gnd9)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1479,605.0234 L1479,615.0234 L1489,615.0234 L1479,605.0234 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="936" x="538" y="622.0903">Se nao houver o produto no stock na 1 farmacia (farmacia1) percorre a lista de farmacias para encontrar outra farmacia com o stock (farmacia2)</text><path d="M531.5,646.1563 L609.5,646.1563 L609.5,653.1563 L599.5,663.1563 L531.5,663.1563 L531.5,646.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:2.0;" width="2437.5" x="531.5" y="646.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="546.5" y="659.2231">loop</text><polygon fill="#A80036" points="2277,680.4219,2287,684.4219,2277,688.4219,2281,684.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="2283" y1="684.4219" y2="684.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="679.356">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="366" x="661" y="679.356">realizaPedido(farmacia1, famacia2, produto, quantidade)</text><polygon fill="#A80036" points="2613,709.5547,2623,713.5547,2613,717.5547,2617,713.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2299" x2="2619" y1="713.5547" y2="713.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2306" y="708.4888">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="2327" y="708.4888">realizaPedido(fOrig, fDest, prod, quantidade)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2635" x2="2677" y1="742.6875" y2="742.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2677" x2="2677" y1="742.6875" y2="755.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2636" x2="2677" y1="755.6875" y2="755.6875"/><polygon fill="#A80036" points="2646,751.6875,2636,755.6875,2646,759.6875,2642,755.6875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2642" y="737.6216">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="2664" y="737.6216">addTransferencia(nif1, nif2, id, quantidade, 1)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2640" x2="2682" y1="784.8203" y2="784.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2682" x2="2682" y1="784.8203" y2="797.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2641" x2="2682" y1="797.8203" y2="797.8203"/><polygon fill="#A80036" points="2651,793.8203,2641,797.8203,2651,801.8203,2647,797.8203" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2647" y="779.7544">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="2669" y="779.7544">enviarStock(fOrig, fDest, prod, quantidade)</text><polygon fill="#A80036" points="3205.5,836.9531,3215.5,840.9531,3205.5,844.9531,3209.5,840.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="3211.5" y1="840.9531" y2="840.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="835.8872">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1047" y="835.8872">addNovoProduto(produto)</text><polygon fill="#A80036" points="1569,896.0859,1579,900.0859,1569,904.0859,1573,900.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1575" y1="900.0859" y2="900.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="895.02">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1047" y="895.02">preco = getPreco()</text><polygon fill="#A80036" points="1569,955.2188,1579,959.2188,1569,963.2188,1573,959.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1575" y1="959.2188" y2="959.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="954.1528">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1047" y="954.1528">peso = getPeso()</text><polygon fill="#A80036" points="1468.5,1021.3516,1478.5,1025.3516,1468.5,1029.3516,1472.5,1025.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1474.5" y1="1025.3516" y2="1025.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1020.2856">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1047" y="1020.2856">lista = getListaProdutos()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="1084.4844" y2="1084.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="1084.4844" y2="1097.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="1097.4844" y2="1097.4844"/><polygon fill="#A80036" points="1029,1093.4844,1019,1097.4844,1029,1101.4844,1025,1097.4844" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1025" y="1079.4185">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1048" y="1079.4185">precoTotal = getPrecoTotal()</text><polygon fill="#A80036" points="643,1122.6172,633,1126.6172,643,1130.6172,639,1126.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="1007" y1="1126.6172" y2="1126.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="649" y="1121.5513">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="671" y="1121.5513">dataPedida = getData()</text><polygon fill="#A80036" points="1683,1151.75,1693,1155.75,1683,1159.75,1687,1155.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1689" y1="1155.75" y2="1155.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1150.6841">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="536" x="1047" y="1150.6841">enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><polygon fill="#A80036" points="3323,1180.8828,3333,1184.8828,3323,1188.8828,3327,1184.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1700" x2="3329" y1="1184.8828" y2="1184.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1707" y="1179.8169">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="1728" y="1179.8169">create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3335" y="1163.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3342" y="1183.7451">enc: Encomenda</text><polygon fill="#A80036" points="65,1226.1797,55,1230.1797,65,1234.1797,61,1230.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1230.1797" y2="1230.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="71" y="1225.1138">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="93" y="1225.1138">apresenta a encomenda e pede confirmação</text><polygon fill="#A80036" points="610,1255.3125,620,1259.3125,610,1263.3125,614,1259.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1259.3125" y2="1259.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="61" y="1254.2466">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="83" y="1254.2466">confirma</text><polygon fill="#A80036" points="996,1284.4453,1006,1288.4453,996,1292.4453,1000,1288.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1288.4453" y2="1288.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1283.3794">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="661" y="1283.3794">registaEncomenda(enc)</text><polygon fill="#A80036" points="1683,1313.5781,1693,1317.5781,1683,1321.5781,1687,1317.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1689" y1="1317.5781" y2="1317.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1312.5122">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1047" y="1312.5122">registaEncomenda(encomenda)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1705" x2="1747" y1="1346.7109" y2="1346.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1747" x2="1747" y1="1346.7109" y2="1359.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1706" x2="1747" y1="1359.7109" y2="1359.7109"/><polygon fill="#A80036" points="1716,1355.7109,1706,1359.7109,1716,1363.7109,1712,1359.7109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1712" y="1341.645">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1734" y="1341.645">validaEncomenda(enc)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1705" x2="1747" y1="1393.8438" y2="1393.8438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1747" x2="1747" y1="1393.8438" y2="1406.8438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1700" x2="1747" y1="1406.8438" y2="1406.8438"/><polygon fill="#A80036" points="1710,1402.8438,1700,1406.8438,1710,1410.8438,1706,1406.8438" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1712" y="1388.7778">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1734" y="1388.7778">addEncomenda(enc)</text><polygon fill="#A80036" points="996,1426.9766,1006,1430.9766,996,1434.9766,1000,1430.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1430.9766" y2="1430.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1425.9106">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="661" y="1425.9106">novoRecibo(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2109,1456.1094,2119,1460.1094,2109,1464.1094,2113,1460.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2115" y1="1460.1094" y2="1460.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="1455.0435">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1046" y="1455.0435">create(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2909,1485.2422,2919,1489.2422,2909,1493.2422,2913,1489.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2131" x2="2915" y1="1489.2422" y2="1489.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2138" y="1484.1763">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="2159" y="1484.1763">create(nifCliente, precoTotal, lista, dataPedida)</text><rect fill="#FEFECE" filter="url(#f13j9t4dw7gnd9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2921" y="1468.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2928" y="1488.1045">rec:Recibo</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2131" x2="2173" y1="1534.5391" y2="1534.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2173" x2="2173" y1="1534.5391" y2="1547.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2132" x2="2173" y1="1547.5391" y2="1547.5391"/><polygon fill="#A80036" points="2142,1543.5391,2132,1547.5391,2142,1551.5391,2138,1547.5391" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="2138" y="1529.4731">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="2158" y="1529.4731">validateRecibo(rec)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2131" x2="2173" y1="1581.6719" y2="1581.6719"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2173" x2="2173" y1="1581.6719" y2="1594.6719"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2126" x2="2173" y1="1594.6719" y2="1594.6719"/><polygon fill="#A80036" points="2136,1590.6719,2126,1594.6719,2136,1598.6719,2132,1594.6719" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2138" y="1576.606">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="2159" y="1576.606">addRecibo(rec)</text><polygon fill="#A80036" points="65,1614.8047,55,1618.8047,65,1622.8047,61,1618.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1618.8047" y2="1618.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="71" y="1613.7388">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="92" y="1613.7388">solicita se quer pagar com creditos</text><polygon fill="#A80036" points="610,1643.9375,620,1647.9375,610,1651.9375,614,1647.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1647.9375" y2="1647.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="61" y="1642.8716">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="82" y="1642.8716">Insere os dados pedidos</text><polygon fill="#A80036" points="996,1673.0703,1006,1677.0703,996,1681.0703,1000,1677.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1677.0703" y2="1677.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="639" y="1672.0044">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="660" y="1672.0044">geraCreditos(c, precoTotal)</text><polygon fill="#A80036" points="1683,1702.2031,1693,1706.2031,1683,1710.2031,1687,1706.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1689" y1="1706.2031" y2="1706.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="1701.1372">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="1046" y="1701.1372">geraCreditos(c, precoTotal)</text><path d="M10,1751.2031 L82,1751.2031 L82,1758.2031 L72,1768.2031 L10,1768.2031 L10,1751.2031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="261.9297" style="stroke:#000000;stroke-width:2.0;" width="1764" x="10" y="1751.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="25" y="1764.27">opt</text><path d="M582,1773.3359 L582,1798.3359 L667,1798.3359 L667,1783.3359 L657,1773.3359 L582,1773.3359 " fill="#FBFB77" filter="url(#f13j9t4dw7gnd9)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M657,1773.3359 L657,1783.3359 L667,1783.3359 L657,1773.3359 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="588" y="1790.4028">se for sim</text><polygon fill="#A80036" points="996,1824.6016,1006,1828.6016,996,1832.6016,1000,1828.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1828.6016" y2="1828.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="639" y="1823.5356">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="660" y="1823.5356">getCreditosData(dataPedida, precoTotal)</text><polygon fill="#A80036" points="1683,1853.7344,1693,1857.7344,1683,1861.7344,1687,1857.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1689" y1="1857.7344" y2="1857.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1025" y="1852.6685">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="1048" y="1852.6685">creds = getCreditosData(dataPedida, precoTotal)</text><polygon fill="#A80036" points="996,1912.8672,1006,1916.8672,996,1920.8672,1000,1916.8672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1916.8672" y2="1916.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1911.8013">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="661" y="1911.8013">removeCreditos(nifCliente, creds)</text><polygon fill="#A80036" points="1275,1942,1285,1946,1275,1950,1279,1946" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1281" y1="1946" y2="1946"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1940.9341">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1047" y="1940.9341">removerCreditos(nifCliente, creds)</text><polygon fill="#A80036" points="65,2001.1328,55,2005.1328,65,2009.1328,61,2005.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="621" y1="2005.1328" y2="2005.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="71" y="2000.0669">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="92" y="2000.0669">remove os creditos</text><polygon fill="#A80036" points="60,2037.2656,50,2041.2656,60,2045.2656,56,2041.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="626" y1="2041.2656" y2="2041.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="66" y="2036.1997">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="88" y="2036.1997">gera o recibo e informa o sucesso da operação</text><!--MD5=[b4aece78009266ac9376a576bfbd0213]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant ":ClienteDB" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDB" as PDH
participant ":Produto" as PRO
participant ":EncomendaDB" as EDH
participant ":FarmaciaDB" as FDB
participant ":EnderecoDB" as END
participant ":ReciboDB" as RDH
participant ":PedirItemFarmaciaDB" as PEIC
participant ":TransferenciaDB" as TDB
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : insere a farmacia a qual quer os produtos
activate CLI
activate UI

UI - -> CTRL : getFarmaciaByNif(nif)
activate CTRL

CTRL - -> FDB : nif = getFarmaciaByNif(nif)
activate FDB
deactivate FDB

UI - -> CTRL : getCliente()

CTRL - -> DH : cliente = getCliente()
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto e a quantidade que pretende
activate UI

UI - -> CTRL : produtoEncomenda(produto,quant)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(produto,quant)

OPT
note  over CTRL : Se nao houver o produto no stock na 1 farmacia (farmacia1) percorre a lista de farmacias para encontrar outra farmacia com o stock (farmacia2)

LOOP 
deactivate CTRL
UI - -> PEIC : realizaPedido(farmacia1, famacia2, produto, quantidade)
activate PEIC

PEIC - -> TDB : realizaPedido(fOrig, fDest, prod, quantidade)
activate TDB

TDB - -> TDB: addTransferencia(nif1, nif2, id, quantidade, 1)
TDB - -> TDB: enviarStock(fOrig, fDest, prod, quantidade)

deactivate TDB

deactivate PEIC

activate CTRL
END LOOP

END OPT

CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : solicita se quer pagar com creditos
deactivate UI

CLI - -> UI : Insere os dados pedidos
activate UI

activate CTRL
UI - -> CTRL : geraCreditos(c, precoTotal)

CTRL - -> EDH : geraCreditos(c, precoTotal)
activate EDH
deactivate EDH

OPT
note over UI : se for sim
UI - -> CTRL : getCreditosData(dataPedida, precoTotal)

CTRL - -> EDH : creds = getCreditosData(dataPedida, precoTotal)
activate EDH
deactivate EDH


UI - -> CTRL: removeCreditos(nifCliente, creds)

CTRL - -> DH : removerCreditos(nifCliente, creds)
activate DH

deactivate DH
UI - -> CLI : remove os creditos

END OPT

deactivate CTRL
UI - -> CLI: gera o recibo e informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant ":ClienteDB" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDB" as PDH
participant ":Produto" as PRO
participant ":EncomendaDB" as EDH
participant ":FarmaciaDB" as FDB
participant ":EnderecoDB" as END
participant ":ReciboDB" as RDH
participant ":PedirItemFarmaciaDB" as PEIC
participant ":TransferenciaDB" as TDB
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : insere a farmacia a qual quer os produtos
activate CLI
activate UI

UI - -> CTRL : getFarmaciaByNif(nif)
activate CTRL

CTRL - -> FDB : nif = getFarmaciaByNif(nif)
activate FDB
deactivate FDB

UI - -> CTRL : getCliente()

CTRL - -> DH : cliente = getCliente()
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto e a quantidade que pretende
activate UI

UI - -> CTRL : produtoEncomenda(produto,quant)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(produto,quant)

OPT
note  over CTRL : Se nao houver o produto no stock na 1 farmacia (farmacia1) percorre a lista de farmacias para encontrar outra farmacia com o stock (farmacia2)

LOOP 
deactivate CTRL
UI - -> PEIC : realizaPedido(farmacia1, famacia2, produto, quantidade)
activate PEIC

PEIC - -> TDB : realizaPedido(fOrig, fDest, prod, quantidade)
activate TDB

TDB - -> TDB: addTransferencia(nif1, nif2, id, quantidade, 1)
TDB - -> TDB: enviarStock(fOrig, fDest, prod, quantidade)

deactivate TDB

deactivate PEIC

activate CTRL
END LOOP

END OPT

CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : solicita se quer pagar com creditos
deactivate UI

CLI - -> UI : Insere os dados pedidos
activate UI

activate CTRL
UI - -> CTRL : geraCreditos(c, precoTotal)

CTRL - -> EDH : geraCreditos(c, precoTotal)
activate EDH
deactivate EDH

OPT
note over UI : se for sim
UI - -> CTRL : getCreditosData(dataPedida, precoTotal)

CTRL - -> EDH : creds = getCreditosData(dataPedida, precoTotal)
activate EDH
deactivate EDH


UI - -> CTRL: removeCreditos(nifCliente, creds)

CTRL - -> DH : removerCreditos(nifCliente, creds)
activate DH

deactivate DH
UI - -> CLI : remove os creditos

END OPT

deactivate CTRL
UI - -> CLI: gera o recibo e informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>