<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1756px" preserveAspectRatio="none" style="width:3376px;height:1756px;" version="1.1" viewBox="0 0 3376 1756" width="3376px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bxowhzhzdv2v" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="1535.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="605.1563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1295.0469"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="530.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1324.1797"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1466.7109"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1670" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="1061.0859"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="935.8203"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="994.9531"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1191.4844"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1353.3125"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2551.5" y="1495.8438"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3112" y="876.6875"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="410.4609" style="stroke:#000000;stroke-width:2.0;" width="3219.5" x="10" y="622.4922"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="101.5313" style="stroke:#000000;stroke-width:2.0;" width="262" x="882" y="747.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1244" x2="1244" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1372" x2="1372" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1513" x2="1513" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1675" x2="1675" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1804" x2="1804" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1936" x2="1936" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2071" x2="2071" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2219" x2="2219" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2411.5" x2="2411.5" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2556.5" x2="2556.5" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2956.5" x2="2956.5" y1="1536.4922" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3116.5" x2="3116.5" y1="88.2969" y2="1672.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3297.5" x2="3297.5" y1="1232.1328" y2="1672.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="84.9951">Cliente</text><ellipse cx="49" cy="15" fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,23 L49,50 M36,31 L62,31 M49,50 L36,65 M49,50 L62,65 " fill="none" filter="url(#f1bxowhzhzdv2v)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="1684.5342">Cliente</text><ellipse cx="49" cy="1697.8359" fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,1705.8359 L49,1732.8359 M36,1713.8359 L62,1713.8359 M49,1732.8359 L36,1747.8359 M49,1732.8359 L62,1747.8359 " fill="none" filter="url(#f1bxowhzhzdv2v)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="72.9951">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="1691.5342">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="72.9951">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="1691.5342">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="1691.5342">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="1691.5342">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="1707.8311">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="1691.5342">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="1707.8311">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1593" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1600" y="72.9951">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1593" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1600" y="1691.5342">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1767" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1774" y="72.9951">:Cliente</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1767" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1774" y="1691.5342">:Cliente</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1852" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1859" y="72.9951">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1852" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1859" y="1691.5342">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2031" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2038" y="72.9951">:Produto</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2031" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="2038" y="1691.5342">:Produto</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="2121" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="2128" y="72.9951">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="2121" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="2128" y="1691.5342">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="103" x="2358.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2365.5" y="72.9951">EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="103" x="2358.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2365.5" y="1691.5342">EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="2475.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="2482.5" y="72.9951">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="2475.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="2482.5" y="1691.5342">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2908.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2915.5" y="1691.5342">rec:Recibo</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3014.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3080.5" y="56.6982">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3021.5" y="72.9951">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="3014.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3080.5" y="1691.5342">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="3021.5" y="1707.8311">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3229.5" y="1671.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3236.5" y="1691.5342">enc: Encomenda</text><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="1535.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="605.1563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1295.0469"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="530.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1324.1797"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1466.7109"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1670" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1931.5" y="1061.0859"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="935.8203"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2066" y="994.9531"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1191.4844"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2214" y="1353.3125"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2551.5" y="1495.8438"/><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3112" y="876.6875"/><polygon fill="#A80036" points="610,115.4297,620,119.4297,610,123.4297,614,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="74" y="114.3638">pretende realizar uma encomenda</text><polygon fill="#A80036" points="996,144.5625,1006,148.5625,996,152.5625,1000,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="639" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="652" y="143.4966">getListClients()</text><polygon fill="#A80036" points="1227,173.6953,1237,177.6953,1227,181.6953,1231,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1233" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1025" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1037" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="1355.5,257.8281,1365.5,261.8281,1355.5,265.8281,1359.5,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1361.5" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1038" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1496,341.9609,1506,345.9609,1496,349.9609,1500,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1502" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1038" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1658,426.0938,1668,430.0938,1658,434.0938,1662,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1664" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1038" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1787.5,485.2266,1797.5,489.2266,1787.5,493.2266,1791.5,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1793.5" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1038" y="484.1606">nifCLiente = getNif()</text><polygon fill="#A80036" points="1919.5,544.3594,1929.5,548.3594,1919.5,552.3594,1923.5,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1925.5" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1038" y="543.2935">getListaStock()</text><polygon fill="#A80036" points="65,603.4922,55,607.4922,65,611.4922,61,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="71" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="84" y="602.4263">apresenta lista de produtos e pede para selecionar os produtos para a encomenda</text><path d="M10,622.4922 L88,622.4922 L88,629.4922 L78,639.4922 L10,639.4922 L10,622.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="410.4609" style="stroke:#000000;stroke-width:2.0;" width="3219.5" x="10" y="622.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="635.5591">loop</text><polygon fill="#A80036" points="610,656.7578,620,660.7578,610,664.7578,614,660.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="660.7578" y2="660.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="61" y="655.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="84" y="655.6919">introduz o produto</text><polygon fill="#A80036" points="996,685.8906,1006,689.8906,996,693.8906,1000,689.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="689.8906" y2="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="684.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="661" y="684.8247">produtoEncomenda(produto)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="719.0234" y2="719.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="719.0234" y2="732.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="732.0234" y2="732.0234"/><polygon fill="#A80036" points="1029,728.0234,1019,732.0234,1029,736.0234,1025,732.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="713.9575">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1047" y="713.9575">verificaProdutoStock(prod)</text><path d="M882,747.0234 L954,747.0234 L954,754.0234 L944,764.0234 L882,764.0234 L882,747.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="101.5313" style="stroke:#000000;stroke-width:2.0;" width="262" x="882" y="747.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="897" y="760.0903">opt</text><path d="M892,769.1563 L892,794.1563 L1130,794.1563 L1130,779.1563 L1120,769.1563 L892,769.1563 " fill="#FBFB77" filter="url(#f1bxowhzhzdv2v)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1120,769.1563 L1120,779.1563 L1130,779.1563 L1120,769.1563 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="898" y="786.2231">Se nao houver o produto no stock</text><rect fill="#FFFFFF" filter="url(#f1bxowhzhzdv2v)" height="40.2656" style="stroke:#000000;stroke-width:2.0;" width="233" x="894.5" y="803.2891"/><polygon fill="#EEEEEE" points="894.5,803.2891,962.5,803.2891,962.5,810.2891,952.5,820.2891,894.5,820.2891,894.5,803.2891" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="907.5" y="817.356">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="965" y="836.356">notificarCliente</text><polygon fill="#A80036" points="3100,872.6875,3110,876.6875,3100,880.6875,3104,876.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="3106" y1="876.6875" y2="876.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="871.6216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1046" y="871.6216">addNovoProduto(produto)</text><polygon fill="#A80036" points="2054,931.8203,2064,935.8203,2054,939.8203,2058,935.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2060" y1="935.8203" y2="935.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="930.7544">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1047" y="930.7544">preco = getPreco()</text><polygon fill="#A80036" points="2054,990.9531,2064,994.9531,2054,998.9531,2058,994.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2060" y1="994.9531" y2="994.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="989.8872">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1047" y="989.8872">peso = getPeso()</text><polygon fill="#A80036" points="1919.5,1057.0859,1929.5,1061.0859,1919.5,1065.0859,1923.5,1061.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1925.5" y1="1061.0859" y2="1061.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1056.02">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1047" y="1056.02">lista = getListaProdutos()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="1120.2188" y2="1120.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="1120.2188" y2="1133.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="1133.2188" y2="1133.2188"/><polygon fill="#A80036" points="1029,1129.2188,1019,1133.2188,1029,1137.2188,1025,1133.2188" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1115.1528">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1047" y="1115.1528">precoTotal = getPrecoTotal()</text><polygon fill="#A80036" points="643,1158.3516,633,1162.3516,643,1166.3516,639,1162.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="1007" y1="1162.3516" y2="1162.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="649" y="1157.2856">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="671" y="1157.2856">dataPedida = getData()</text><polygon fill="#A80036" points="2202,1187.4844,2212,1191.4844,2202,1195.4844,2206,1191.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2208" y1="1191.4844" y2="1191.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1186.4185">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="536" x="1047" y="1186.4185">enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><polygon fill="#A80036" points="3217.5,1216.6172,3227.5,1220.6172,3217.5,1224.6172,3221.5,1220.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2219" x2="3223.5" y1="1220.6172" y2="1220.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="2226" y="1215.5513">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="2249" y="1215.5513">create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3229.5" y="1199.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3236.5" y="1219.4795">enc: Encomenda</text><polygon fill="#A80036" points="65,1261.9141,55,1265.9141,65,1269.9141,61,1265.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1265.9141" y2="1265.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="71" y="1260.8481">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="93" y="1260.8481">apresenta a encomenda e pede confirmação</text><polygon fill="#A80036" points="610,1291.0469,620,1295.0469,610,1299.0469,614,1295.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1295.0469" y2="1295.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="61" y="1289.981">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="83" y="1289.981">confirma</text><polygon fill="#A80036" points="996,1320.1797,1006,1324.1797,996,1328.1797,1000,1324.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1324.1797" y2="1324.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="639" y="1319.1138">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="660" y="1319.1138">registaEncomenda(enc)</text><polygon fill="#A80036" points="2202,1349.3125,2212,1353.3125,2202,1357.3125,2206,1353.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2208" y1="1353.3125" y2="1353.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1348.2466">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1047" y="1348.2466">registaEncomenda(encomenda)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2224" x2="2266" y1="1382.4453" y2="1382.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2266" x2="2266" y1="1382.4453" y2="1395.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2225" x2="2266" y1="1395.4453" y2="1395.4453"/><polygon fill="#A80036" points="2235,1391.4453,2225,1395.4453,2235,1399.4453,2231,1395.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2231" y="1377.3794">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2253" y="1377.3794">validaEncomenda(enc)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2224" x2="2266" y1="1429.5781" y2="1429.5781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2266" x2="2266" y1="1429.5781" y2="1442.5781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2219" x2="2266" y1="1442.5781" y2="1442.5781"/><polygon fill="#A80036" points="2229,1438.5781,2219,1442.5781,2229,1446.5781,2225,1442.5781" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2231" y="1424.5122">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2253" y="1424.5122">addEncomenda(enc)</text><polygon fill="#A80036" points="996,1462.7109,1006,1466.7109,996,1470.7109,1000,1466.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1466.7109" y2="1466.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1461.645">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="661" y="1461.645">novoRecibo(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2539.5,1491.8438,2549.5,1495.8438,2539.5,1499.8438,2543.5,1495.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2545.5" y1="1495.8438" y2="1495.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1490.7778">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1047" y="1490.7778">create(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2896.5,1520.9766,2906.5,1524.9766,2896.5,1528.9766,2900.5,1524.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2561.5" x2="2902.5" y1="1524.9766" y2="1524.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2568.5" y="1519.9106">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="2590.5" y="1519.9106">create(nifCliente, precoTotal, lista, dataPedida)</text><rect fill="#FEFECE" filter="url(#f1bxowhzhzdv2v)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2908.5" y="1503.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2915.5" y="1523.8389">rec:Recibo</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2561.5" x2="2603.5" y1="1570.2734" y2="1570.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2603.5" x2="2603.5" y1="1570.2734" y2="1583.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2562.5" x2="2603.5" y1="1583.2734" y2="1583.2734"/><polygon fill="#A80036" points="2572.5,1579.2734,2562.5,1583.2734,2572.5,1587.2734,2568.5,1583.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2568.5" y="1565.2075">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="2590.5" y="1565.2075">validateRecibo(rec)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2561.5" x2="2603.5" y1="1617.4063" y2="1617.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2603.5" x2="2603.5" y1="1617.4063" y2="1630.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2556.5" x2="2603.5" y1="1630.4063" y2="1630.4063"/><polygon fill="#A80036" points="2566.5,1626.4063,2556.5,1630.4063,2566.5,1634.4063,2562.5,1630.4063" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2568.5" y="1612.3403">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="2589.5" y="1612.3403">addRecibo(rec)</text><polygon fill="#A80036" points="60,1650.5391,50,1654.5391,60,1658.5391,56,1654.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="626" y1="1654.5391" y2="1654.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="66" y="1649.4731">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="87" y="1649.4731">informa o sucesso da operação</text><!--MD5=[402913885ef0c0f26cb7d42012f22e93]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDataHandler" as PDH
participant ":Produto" as PRO
participant ":EncomendaDataHandler" as EDH
participant "EnderecoDB" as END
participant ":ReciboDataHandler" as RDH
participant "rec:Recibo" as REC
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

ref over CTRL : notificarCliente

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDataHandler" as PDH
participant ":Produto" as PRO
participant ":EncomendaDataHandler" as EDH
participant "EnderecoDB" as END
participant ":ReciboDataHandler" as RDH
participant "rec:Recibo" as REC
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

ref over CTRL : notificarCliente

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2020.27beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>