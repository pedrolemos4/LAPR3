<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1917px" preserveAspectRatio="none" style="width:3268px;height:1917px;" version="1.1" viewBox="0 0 3268 1917" width="3268px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vr413qgzm414" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="1695.5078" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="619.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1308.9141"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="117.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1697.5391"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="544.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1338.0469"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1480.5781"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1726.6719"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="1755.8047"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1731.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1829.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1829.5" y="1074.9531"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1930" y="949.6875"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1930" y="1008.8203"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2044" y="1205.3516"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2044" y="1367.1797"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1509.7109"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2849.5" y="824.4219"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3003.5" y="890.5547"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="424.3281" style="stroke:#000000;stroke-width:2.0;" width="3111" x="10" y="622.4922"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="115.3984" style="stroke:#000000;stroke-width:2.0;" width="2024" x="882" y="747.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1244" x2="1244" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1372" x2="1372" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1513" x2="1513" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1641" x2="1641" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1736" x2="1736" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1834" x2="1834" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1935" x2="1935" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2049" x2="2049" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2242" x2="2242" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2355" x2="2355" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2755" x2="2755" y1="1550.3594" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2854" x2="2854" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3008" x2="3008" y1="88.2969" y2="1832.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3189" x2="3189" y1="1246" y2="1832.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="84.9951">Cliente</text><ellipse cx="49" cy="15" fill="#FEFECE" filter="url(#f1vr413qgzm414)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,23 L49,50 M36,31 L62,31 M49,50 L36,65 M49,50 L62,65 " fill="none" filter="url(#f1vr413qgzm414)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="20" y="1844.9326">Cliente</text><ellipse cx="49" cy="1858.2344" fill="#FEFECE" filter="url(#f1vr413qgzm414)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M49,1866.2344 L49,1893.2344 M36,1874.2344 L62,1874.2344 M49,1893.2344 L36,1908.2344 M49,1893.2344 L62,1908.2344 " fill="none" filter="url(#f1vr413qgzm414)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="72.9951">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="167" x="541.5" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="548.5" y="1851.9326">:RealizaEncomendaUI</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="72.9951">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="227" x="897.5" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="904.5" y="1851.9326">:RealizaEncomendaController</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1186" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1193" y="1851.9326">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1312" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1356.5" y="1851.9326">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1319" y="1868.2295">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1443" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1487.5" y="1851.9326">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1450" y="1868.2295">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1593" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1600" y="72.9951">:ClienteDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1593" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1600" y="1851.9326">:ClienteDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1699" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1706" y="72.9951">:Cliente</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="1699" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1706" y="1851.9326">:Cliente</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1784" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1791" y="72.9951">:ProdutoDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1784" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1791" y="1851.9326">:ProdutoDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1895" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1902" y="72.9951">:Produto</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1895" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1902" y="1851.9326">:Produto</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1985" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1992" y="72.9951">:EncomendaDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1985" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1992" y="1851.9326">:EncomendaDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="2186" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2193" y="72.9951">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="2186" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="2193" y="1851.9326">:EnderecoDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2308" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2315" y="72.9951">:ReciboDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2308" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2315" y="1851.9326">:ReciboDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2707" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2714" y="1851.9326">rec:Recibo</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2813" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2820" y="72.9951">:EmailDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2813" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2820" y="1851.9326">:EmailDB</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="2906" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2972" y="56.6982">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="2913" y="72.9951">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="201" x="2906" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2972" y="1851.9326">lprodutos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="2913" y="1868.2295">:ListaProdutosEncomenda</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3121" y="1831.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3128" y="1851.9326">enc: Encomenda</text><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="1695.5078" style="stroke:#A80036;stroke-width:1.0;" width="10" x="44" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="488.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="619.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="660.7578"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="359.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1308.9141"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="117.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1697.5391"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="429.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="544.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="689.8906"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1338.0469"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1480.5781"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008" y="1726.6719"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1239" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1367.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1508" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="1755.8047"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1731.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1829.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1829.5" y="1074.9531"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1930" y="949.6875"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1930" y="1008.8203"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2044" y="1205.3516"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2044" y="1367.1797"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2350" y="1509.7109"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2849.5" y="824.4219"/><rect fill="#FFFFFF" filter="url(#f1vr413qgzm414)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3003.5" y="890.5547"/><polygon fill="#A80036" points="610,115.4297,620,119.4297,610,123.4297,614,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="74" y="114.3638">pretende realizar uma encomenda</text><polygon fill="#A80036" points="996,144.5625,1006,148.5625,996,152.5625,1000,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="639" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="652" y="143.4966">getListClients()</text><polygon fill="#A80036" points="1227,173.6953,1237,177.6953,1227,181.6953,1231,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1233" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1025" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1037" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="1355.5,257.8281,1365.5,261.8281,1355.5,265.8281,1359.5,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1018" x2="1361.5" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1038" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1496,341.9609,1506,345.9609,1496,349.9609,1500,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1502" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1038" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1624,426.0938,1634,430.0938,1624,434.0938,1628,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1630" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1038" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1719.5,485.2266,1729.5,489.2266,1719.5,493.2266,1723.5,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1725.5" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1038" y="484.1606">nifCLiente = getNif()</text><polygon fill="#A80036" points="1817.5,544.3594,1827.5,548.3594,1817.5,552.3594,1821.5,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1823.5" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1025" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1038" y="543.2935">getListaStock()</text><polygon fill="#A80036" points="65,603.4922,55,607.4922,65,611.4922,61,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="71" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="84" y="602.4263">apresenta lista de produtos e pede para selecionar os produtos para a encomenda</text><path d="M10,622.4922 L88,622.4922 L88,629.4922 L78,639.4922 L10,639.4922 L10,622.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="424.3281" style="stroke:#000000;stroke-width:2.0;" width="3111" x="10" y="622.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="635.5591">loop</text><polygon fill="#A80036" points="610,656.7578,620,660.7578,610,664.7578,614,660.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="660.7578" y2="660.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="61" y="655.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="84" y="655.6919">introduz o produto</text><polygon fill="#A80036" points="996,685.8906,1006,689.8906,996,693.8906,1000,689.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="689.8906" y2="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="684.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="661" y="684.8247">produtoEncomenda(produto)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="719.0234" y2="719.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="719.0234" y2="732.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="732.0234" y2="732.0234"/><polygon fill="#A80036" points="1029,728.0234,1019,732.0234,1029,736.0234,1025,732.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="713.9575">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1047" y="713.9575">verificaProdutoStock(prod)</text><path d="M882,747.0234 L954,747.0234 L954,754.0234 L944,764.0234 L882,764.0234 L882,747.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="115.3984" style="stroke:#000000;stroke-width:2.0;" width="2024" x="882" y="747.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="897" y="760.0903">opt</text><path d="M892,769.1563 L892,794.1563 L1130,794.1563 L1130,779.1563 L1120,769.1563 L892,769.1563 " fill="#FBFB77" filter="url(#f1vr413qgzm414)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1120,769.1563 L1120,779.1563 L1130,779.1563 L1120,769.1563 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="898" y="786.2231">Se nao houver o produto no stock</text><polygon fill="#A80036" points="2837.5,820.4219,2847.5,824.4219,2837.5,828.4219,2841.5,824.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2843.5" y1="824.4219" y2="824.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="819.356">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="1046" y="819.356">sendEmail(email, assunto, mensagem)</text><polygon fill="#A80036" points="2991.5,886.5547,3001.5,890.5547,2991.5,894.5547,2995.5,890.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2997.5" y1="890.5547" y2="890.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="885.4888">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1047" y="885.4888">addNovoProduto(produto)</text><polygon fill="#A80036" points="1918,945.6875,1928,949.6875,1918,953.6875,1922,949.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1924" y1="949.6875" y2="949.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="944.6216">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1047" y="944.6216">preco = getPreco()</text><polygon fill="#A80036" points="1918,1004.8203,1928,1008.8203,1918,1012.8203,1922,1008.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1924" y1="1008.8203" y2="1008.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1003.7544">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1047" y="1003.7544">peso = getPeso()</text><polygon fill="#A80036" points="1817.5,1070.9531,1827.5,1074.9531,1817.5,1078.9531,1821.5,1074.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1823.5" y1="1074.9531" y2="1074.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1069.8872">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1047" y="1069.8872">lista = getListaProdutos()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1060" y1="1134.0859" y2="1134.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1060" x2="1060" y1="1134.0859" y2="1147.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1060" y1="1147.0859" y2="1147.0859"/><polygon fill="#A80036" points="1029,1143.0859,1019,1147.0859,1029,1151.0859,1025,1147.0859" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1129.02">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1047" y="1129.02">precoTotal = getPrecoTotal()</text><polygon fill="#A80036" points="643,1172.2188,633,1176.2188,643,1180.2188,639,1176.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="1007" y1="1176.2188" y2="1176.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="649" y="1171.1528">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="671" y="1171.1528">dataPedida = getData()</text><polygon fill="#A80036" points="2032,1201.3516,2042,1205.3516,2032,1209.3516,2036,1205.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2038" y1="1205.3516" y2="1205.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1025" y="1200.2856">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="536" x="1048" y="1200.2856">enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><polygon fill="#A80036" points="3109,1230.4844,3119,1234.4844,3109,1238.4844,3113,1234.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2049" x2="3115" y1="1234.4844" y2="1234.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2056" y="1229.4185">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="2078" y="1229.4185">create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="3121" y="1213.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3128" y="1233.3467">enc: Encomenda</text><polygon fill="#A80036" points="65,1275.7813,55,1279.7813,65,1283.7813,61,1279.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1279.7813" y2="1279.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="71" y="1274.7153">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="93" y="1274.7153">apresenta a encomenda e pede confirmação</text><polygon fill="#A80036" points="610,1304.9141,620,1308.9141,610,1312.9141,614,1308.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1308.9141" y2="1308.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="61" y="1303.8481">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="82" y="1303.8481">confirma</text><polygon fill="#A80036" points="996,1334.0469,1006,1338.0469,996,1342.0469,1000,1338.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1338.0469" y2="1338.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1332.981">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="661" y="1332.981">registaEncomenda(enc)</text><polygon fill="#A80036" points="2032,1363.1797,2042,1367.1797,2032,1371.1797,2036,1367.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2038" y1="1367.1797" y2="1367.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1362.1138">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1047" y="1362.1138">registaEncomenda(encomenda)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2054" x2="2096" y1="1396.3125" y2="1396.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2096" x2="2096" y1="1396.3125" y2="1409.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2055" x2="2096" y1="1409.3125" y2="1409.3125"/><polygon fill="#A80036" points="2065,1405.3125,2055,1409.3125,2065,1413.3125,2061,1409.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2061" y="1391.2466">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2083" y="1391.2466">validaEncomenda(enc)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2054" x2="2096" y1="1443.4453" y2="1443.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2096" x2="2096" y1="1443.4453" y2="1456.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2049" x2="2096" y1="1456.4453" y2="1456.4453"/><polygon fill="#A80036" points="2059,1452.4453,2049,1456.4453,2059,1460.4453,2055,1456.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2061" y="1438.3794">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2083" y="1438.3794">addEncomenda(enc)</text><polygon fill="#A80036" points="996,1476.5781,1006,1480.5781,996,1484.5781,1000,1480.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1480.5781" y2="1480.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="639" y="1475.5122">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="661" y="1475.5122">novoRecibo(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2338,1505.7109,2348,1509.7109,2338,1513.7109,2342,1509.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="2344" y1="1509.7109" y2="1509.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1025" y="1504.645">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1047" y="1504.645">create(nifCliente, precoTotal, lista, dataPedida)</text><polygon fill="#A80036" points="2695,1534.8438,2705,1538.8438,2695,1542.8438,2699,1538.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2360" x2="2701" y1="1538.8438" y2="1538.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2367" y="1533.7778">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="2389" y="1533.7778">create(nifCliente, precoTotal, lista, dataPedida)</text><rect fill="#FEFECE" filter="url(#f1vr413qgzm414)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2707" y="1517.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2714" y="1537.7061">rec:Recibo</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2360" x2="2402" y1="1584.1406" y2="1584.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2402" x2="2402" y1="1584.1406" y2="1597.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2361" x2="2402" y1="1597.1406" y2="1597.1406"/><polygon fill="#A80036" points="2371,1593.1406,2361,1597.1406,2371,1601.1406,2367,1597.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2367" y="1579.0747">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="2388" y="1579.0747">validateRecibo(rec)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2360" x2="2402" y1="1631.2734" y2="1631.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2402" x2="2402" y1="1631.2734" y2="1644.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2355" x2="2402" y1="1644.2734" y2="1644.2734"/><polygon fill="#A80036" points="2365,1640.2734,2355,1644.2734,2365,1648.2734,2361,1644.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2367" y="1626.2075">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="2388" y="1626.2075">addRecibo(rec)</text><polygon fill="#A80036" points="65,1664.4063,55,1668.4063,65,1672.4063,61,1668.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59" x2="626" y1="1668.4063" y2="1668.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="71" y="1663.3403">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="91" y="1663.3403">solicita se quer pagar com creditos</text><polygon fill="#A80036" points="610,1693.5391,620,1697.5391,610,1701.5391,614,1697.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="616" y1="1697.5391" y2="1697.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="61" y="1692.4731">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="82" y="1692.4731">Insere os dados pedidos</text><polygon fill="#A80036" points="996,1722.6719,1006,1726.6719,996,1730.6719,1000,1726.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="632" x2="1002" y1="1726.6719" y2="1726.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="639" y="1721.606">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="660" y="1721.606">removeCreditos(nifCliente, precoTotal)</text><polygon fill="#A80036" points="1624,1751.8047,1634,1755.8047,1624,1759.8047,1628,1755.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1630" y1="1755.8047" y2="1755.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1025" y="1750.7388">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="1046" y="1750.7388">removerCreditos(nifCliente, precoTotal)</text><polygon fill="#A80036" points="60,1810.9375,50,1814.9375,60,1818.9375,56,1814.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="626" y1="1814.9375" y2="1814.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="66" y="1809.8716">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="434" x="87" y="1809.8716">remove os creditos, gera o recibo e informa o sucesso da operação</text><!--MD5=[0cb4aa9895aa6e104de68b6cca3cbb59]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDB" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDB" as PDH
participant ":Produto" as PRO
participant ":EncomendaDB" as EDH
participant ":EnderecoDB" as END
participant ":ReciboDB" as RDH
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

CTRL - -> EMDB : sendEmail(email, assunto, mensagem)
activate EMDB
deactivate EMDB

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : solicita se quer pagar com creditos
deactivate UI

CLI - -> UI : Insere os dados pedidos
activate UI

UI - -> CTRL: removeCreditos(nifCliente, precoTotal)
activate CTRL

CTRL - -> DH : removerCreditos(nifCliente, precoTotal)
activate DH

deactivate DH
deactivate CTRL

UI - -> CLI : remove os creditos, gera o recibo e informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaEncomendaUI" as UI
participant ":RealizaEncomendaController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDB" as DH
participant ":Cliente" as CLIEN
participant ":ProdutoDB" as PDH
participant ":Produto" as PRO
participant ":EncomendaDB" as EDH
participant ":EnderecoDB" as END
participant ":ReciboDB" as RDH
participant "rec:Recibo" as REC
participant ":EmailDB" as EMDB
participant "lprodutos\n:ListaProdutosEncomenda" as LPROD
participant "enc: Encomenda" as ENC


CLI - -> UI : pretende realizar uma encomenda
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> DH : cliente = getClienteByEmail(email)
activate DH
deactivate DH

CTRL - -> CLIEN : nifCLiente = getNif()
activate CLIEN
deactivate CLIEN

deactivate DH
CTRL - -> PDH : getListaStock()
activate PDH
deactivate PDH

deactivate DH
deactivate CTRL

UI - -> CLI : apresenta lista de produtos e pede para selecionar os produtos para a encomenda
deactivate UI


LOOP
CLI - -> UI : introduz o produto
activate UI

UI - -> CTRL : produtoEncomenda(produto)
activate CTRL

CTRL - -> CTRL : verificaProdutoStock(prod)

OPT
note  over CTRL : Se nao houver o produto no stock

CTRL - -> EMDB : sendEmail(email, assunto, mensagem)
activate EMDB
deactivate EMDB

END OPT


CTRL - -> LPROD : addNovoProduto(produto)
activate LPROD

deactivate PDH
deactivate LPROD

CTRL - -> PRO : preco = getPreco()
activate PRO
deactivate PRO

CTRL - -> PRO : peso = getPeso()
activate PRO
deactivate PRO

END LOOP

CTRL - -> PDH : lista = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> CTRL : precoTotal = getPrecoTotal()

CTRL - -> UI : dataPedida = getData()

CTRL - -> EDH : enc = novaEncomenda(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
activate EDH

EDH - -> ENC ** : create(lista, endereco, nifCliente, dataPedida, preco, peso, estado)
deactivate EDH

deactivate CTRL

UI - -> CLI : apresenta a encomenda e pede confirmação
deactivate UI

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaEncomenda(enc)
activate CTRL

CTRL - -> EDH : registaEncomenda(encomenda)
activate EDH
EDH -> EDH : validaEncomenda(enc)
EDH -> EDH: addEncomenda(enc)
deactivate EDH

deactivate CTRL

UI - -> CTRL : novoRecibo(nifCliente, precoTotal, lista, dataPedida)
activate CTRL

CTRL - -> RDH : create(nifCliente, precoTotal, lista, dataPedida)
activate RDH

RDH - -> REC ** : create(nifCliente, precoTotal, lista, dataPedida)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : solicita se quer pagar com creditos
deactivate UI

CLI - -> UI : Insere os dados pedidos
activate UI

UI - -> CTRL: removeCreditos(nifCliente, precoTotal)
activate CTRL

CTRL - -> DH : removerCreditos(nifCliente, precoTotal)
activate DH

deactivate DH
deactivate CTRL

UI - -> CLI : remove os creditos, gera o recibo e informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2020.27beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>