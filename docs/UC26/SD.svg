<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1103px" preserveAspectRatio="none" style="width:2539px;height:1103px;" version="1.1" viewBox="0 0 2539 1103" width="2539px" zoomAndPan="magnify"><defs><filter height="300%" id="f1j05t8nxypr9m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="881.5547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="680.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="580" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="580" y="829.3203"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="606.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="789" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="789" y="858.4531"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="971.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1100" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1240.5" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1402.5" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1579" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1771.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1948" y="607.4922"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1948" y="666.625"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2123.5" y="725.7578"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2123.5" y="887.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="584.5" x2="584.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="793.5" x2="793.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="976.5" x2="976.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1104.5" x2="1104.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1245.5" x2="1245.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1407.5" x2="1407.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1583.5" x2="1583.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1776.5" x2="1776.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1952.5" x2="1952.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2128.5" x2="2128.5" y1="88.2969" y2="1018.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2461.5" x2="2461.5" y1="766.4063" y2="1018.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="84.9951">Cliente</text><ellipse cx="34" cy="15" fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,23 L34,50 M21,31 L47,31 M34,50 L21,65 M34,50 L47,65 " fill="none" filter="url(#f1j05t8nxypr9m)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="1030.9795">Cliente</text><ellipse cx="34" cy="1044.2813" fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,1052.2813 L34,1079.2813 M21,1060.2813 L47,1060.2813 M34,1079.2813 L21,1094.2813 M34,1079.2813 L47,1094.2813 " fill="none" filter="url(#f1j05t8nxypr9m)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="500.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="507.5" y="72.9951">:RealizaPagamentoUI</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="500.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="507.5" y="1037.9795">:RealizaPagamentoUI</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="225" x="679.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="686.5" y="72.9951">:RealizaPagamentoController</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="225" x="679.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="686.5" y="1037.9795">:RealizaPagamentoController</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="918.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="925.5" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="918.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="925.5" y="1037.9795">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1044.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1089" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1051.5" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1044.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1089" y="1037.9795">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1051.5" y="1054.2764">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1175.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1220" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1182.5" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1175.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1220" y="1037.9795">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1182.5" y="1054.2764">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1325.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1332.5" y="72.9951">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1325.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1332.5" y="1037.9795">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1499.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1506.5" y="72.9951">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1499.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1506.5" y="1037.9795">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1678.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1685.5" y="72.9951">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1678.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1685.5" y="1037.9795">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1884.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1891.5" y="72.9951">enc: Encomenda</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1884.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1891.5" y="1037.9795">enc: Encomenda</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="190" x="2031.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2038.5" y="72.9951">:PagamentoDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="190" x="2031.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2038.5" y="1037.9795">:PagamentoDataHandler</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="2393.5" y="1017.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="2400.5" y="1037.9795">pag: Pagamento</text><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="881.5547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="680.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="580" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="580" y="829.3203"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="606.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="789" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="789" y="858.4531"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="971.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1100" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1240.5" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1402.5" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1579" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1771.5" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1948" y="607.4922"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1948" y="666.625"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2123.5" y="725.7578"/><rect fill="#FFFFFF" filter="url(#f1j05t8nxypr9m)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2123.5" y="887.5859"/><polygon fill="#A80036" points="568,115.4297,578,119.4297,568,123.4297,572,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="574" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="46" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="59" y="114.3638">pretende realizar o pagamento</text><polygon fill="#A80036" points="777,144.5625,787,148.5625,777,152.5625,781,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="590" x2="783" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="597" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="610" y="143.4966">getCliente()</text><polygon fill="#A80036" points="959.5,173.6953,969.5,177.6953,959.5,181.6953,963.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="799" x2="965.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="806" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="818" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="1088,257.8281,1098,261.8281,1088,265.8281,1092,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="799" x2="1094" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="819" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1228.5,341.9609,1238.5,345.9609,1228.5,349.9609,1232.5,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1234.5" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="819" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1390.5,426.0938,1400.5,430.0938,1390.5,434.0938,1394.5,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1396.5" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="819" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1759.5,485.2266,1769.5,489.2266,1759.5,493.2266,1763.5,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1765.5" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="819" y="484.1606">getEncomendaByCliente()</text><polygon fill="#A80036" points="1567,544.3594,1577,548.3594,1567,552.3594,1571,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1573" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="819" y="543.2935">listaProdutos = getListaProdutos()</text><polygon fill="#A80036" points="1936,603.4922,1946,607.4922,1936,611.4922,1940,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1942" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="806" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="819" y="602.4263">preco = getPreco()</text><polygon fill="#A80036" points="1936,662.625,1946,666.625,1936,670.625,1940,666.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1942" y1="666.625" y2="666.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="806" y="661.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="829" y="661.5591">taxa = getTaxa()</text><polygon fill="#A80036" points="2111.5,721.7578,2121.5,725.7578,2111.5,729.7578,2115.5,725.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="2117.5" y1="725.7578" y2="725.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="806" y="720.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="828" y="720.6919">novoPagamento(idEncomenda, precoTotal)</text><polygon fill="#A80036" points="2381.5,750.8906,2391.5,754.8906,2381.5,758.8906,2385.5,754.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2128.5" x2="2387.5" y1="754.8906" y2="754.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2135.5" y="749.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2157.5" y="749.8247">create(idEncomenda, precoTotal)</text><rect fill="#FEFECE" filter="url(#f1j05t8nxypr9m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="2393.5" y="733.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="2400.5" y="753.7529">pag: Pagamento</text><polygon fill="#A80036" points="50,796.1875,40,800.1875,50,804.1875,46,800.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="584" y1="800.1875" y2="800.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="56" y="795.1216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="77" y="795.1216">apresenta o preco e a lista de produtos da encomenda e solicita confirmação</text><polygon fill="#A80036" points="568,825.3203,578,829.3203,568,833.3203,572,829.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="574" y1="829.3203" y2="829.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="46" y="824.2544">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="68" y="824.2544">confirma</text><polygon fill="#A80036" points="777,854.4531,787,858.4531,777,862.4531,781,858.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="590" x2="783" y1="858.4531" y2="858.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="597" y="853.3872">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="619" y="853.3872">registaPagamento(pag)</text><polygon fill="#A80036" points="2111.5,883.5859,2121.5,887.5859,2111.5,891.5859,2115.5,887.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="2117.5" y1="887.5859" y2="887.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="806" y="882.52">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="828" y="882.52">registaPagamento(pag)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2133.5" x2="2175.5" y1="916.7188" y2="916.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2175.5" x2="2175.5" y1="916.7188" y2="929.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2134.5" x2="2175.5" y1="929.7188" y2="929.7188"/><polygon fill="#A80036" points="2144.5,925.7188,2134.5,929.7188,2144.5,933.7188,2140.5,929.7188" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2140.5" y="911.6528">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="2162.5" y="911.6528">validaPagamento(pag)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2133.5" x2="2175.5" y1="963.8516" y2="963.8516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2175.5" x2="2175.5" y1="963.8516" y2="976.8516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2128.5" x2="2175.5" y1="976.8516" y2="976.8516"/><polygon fill="#A80036" points="2138.5,972.8516,2128.5,976.8516,2138.5,980.8516,2134.5,976.8516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2140.5" y="958.7856">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="2162.5" y="958.7856">addPagamento(pag)</text><polygon fill="#A80036" points="45,996.9844,35,1000.9844,45,1004.9844,41,1000.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="584" y1="1000.9844" y2="1000.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="51" y="995.9185">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="73" y="995.9185">informa o sucesso da operação</text><!--MD5=[ecc4b956320c9d0cfea3cb612bb81be5]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaPagamentoUI" as UI
participant ":RealizaPagamentoController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":ProdutoDataHandler" as PDH
participant ":EncomendaDataHandler" as EDH
participant "enc: Encomenda" as ENC
participant ":PagamentoDataHandler" as PAD
participant "pag: Pagamento" as PAG


CLI - -> UI : pretende realizar o pagamento
activate CLI
activate UI

UI - -> CTRL : getCliente()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> EDH : getEncomendaByCliente()
activate EDH
deactivate EDH

CTRL - -> PDH : listaProdutos = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> ENC : preco = getPreco()
activate ENC
deactivate ENC

CTRL - -> ENC : taxa = getTaxa()
activate ENC
deactivate ENC

CTRL - -> PAD : novoPagamento(idEncomenda, precoTotal)
activate PAD
PAD - -> PAG ** : create(idEncomenda, precoTotal)
deactivate PAD

deactivate CTRL

UI - -> CLI : apresenta o preco e a lista de produtos da encomenda e solicita confirmação
deactivate UI

deactivate CTRL

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaPagamento(pag)
activate CTRL

CTRL - -> PAD : registaPagamento(pag)
activate PAD

PAD - -> PAD : validaPagamento(pag)
PAD - -> PAD : addPagamento(pag)

deactivate PAD

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaPagamentoUI" as UI
participant ":RealizaPagamentoController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":ProdutoDataHandler" as PDH
participant ":EncomendaDataHandler" as EDH
participant "enc: Encomenda" as ENC
participant ":PagamentoDataHandler" as PAD
participant "pag: Pagamento" as PAG


CLI - -> UI : pretende realizar o pagamento
activate CLI
activate UI

UI - -> CTRL : getCliente()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> EDH : getEncomendaByCliente()
activate EDH
deactivate EDH

CTRL - -> PDH : listaProdutos = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> ENC : preco = getPreco()
activate ENC
deactivate ENC

CTRL - -> ENC : taxa = getTaxa()
activate ENC
deactivate ENC

CTRL - -> PAD : novoPagamento(idEncomenda, precoTotal)
activate PAD
PAD - -> PAG ** : create(idEncomenda, precoTotal)
deactivate PAD

deactivate CTRL

UI - -> CLI : apresenta o preco e a lista de produtos da encomenda e solicita confirmação
deactivate UI

deactivate CTRL

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaPagamento(pag)
activate CTRL

CTRL - -> PAD : registaPagamento(pag)
activate PAD

PAD - -> PAD : validaPagamento(pag)
PAD - -> PAD : addPagamento(pag)

deactivate PAD

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2020.27beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>