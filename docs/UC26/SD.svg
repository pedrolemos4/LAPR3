<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1132px" preserveAspectRatio="none" style="width:2449px;height:1132px;" version="1.1" viewBox="0 0 2449 1132" width="2449px" zoomAndPan="magnify"><defs><filter height="300%" id="f1y0ealuycxhyp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="910.6875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="709.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="858.4531"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="635.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="887.5859"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="972.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1403.5" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1580" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1772.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1949" y="607.4922"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1949" y="666.625"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2124.5" y="725.7578"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2124.5" y="916.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="585.5" x2="585.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="794.5" x2="794.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="977.5" x2="977.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1105.5" x2="1105.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1246.5" x2="1246.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1408.5" x2="1408.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1584.5" x2="1584.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1777.5" x2="1777.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1953.5" x2="1953.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2129.5" x2="2129.5" y1="88.2969" y2="1048.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2371.5" x2="2371.5" y1="795.5391" y2="1048.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="84.9951">Cliente</text><ellipse cx="34" cy="15" fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,23 L34,50 M21,31 L47,31 M34,50 L21,65 M34,50 L47,65 " fill="none" filter="url(#f1y0ealuycxhyp)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="1060.1123">Cliente</text><ellipse cx="34" cy="1073.4141" fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,1081.4141 L34,1108.4141 M21,1089.4141 L47,1089.4141 M34,1108.4141 L21,1123.4141 M34,1108.4141 L47,1123.4141 " fill="none" filter="url(#f1y0ealuycxhyp)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="501.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="508.5" y="72.9951">:RealizaPagamentoUI</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="501.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="508.5" y="1067.1123">:RealizaPagamentoUI</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="225" x="680.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="687.5" y="72.9951">:RealizaPagamentoController</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="225" x="680.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="687.5" y="1067.1123">:RealizaPagamentoController</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="919.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="926.5" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="919.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="926.5" y="1067.1123">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1045.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1090" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1052.5" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1045.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1090" y="1067.1123">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1052.5" y="1083.4092">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1176.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1221" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1183.5" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1176.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1221" y="1067.1123">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1183.5" y="1083.4092">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1326.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1333.5" y="72.9951">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1326.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1333.5" y="1067.1123">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1500.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1507.5" y="72.9951">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1500.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1507.5" y="1067.1123">:ProdutoDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1679.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1686.5" y="72.9951">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1679.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1686.5" y="1067.1123">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1885.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1892.5" y="72.9951">enc: Encomenda</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1885.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1892.5" y="1067.1123">enc: Encomenda</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="190" x="2032.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2039.5" y="72.9951">:PagamentoDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="190" x="2032.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2039.5" y="1067.1123">:PagamentoDataHandler</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="2303.5" y="1047.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="2310.5" y="1067.1123">pag: Pagamento</text><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="910.6875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="709.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="858.4531"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="635.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="106.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="887.5859"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="972.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101" y="261.8281"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="345.9609"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1403.5" y="430.0938"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1580" y="489.2266"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1772.5" y="548.3594"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1949" y="607.4922"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1949" y="666.625"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2124.5" y="725.7578"/><rect fill="#FFFFFF" filter="url(#f1y0ealuycxhyp)" height="77.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2124.5" y="916.7188"/><polygon fill="#A80036" points="569,115.4297,579,119.4297,569,123.4297,573,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="575" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="46" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="59" y="114.3638">pretende realizar o pagamento</text><polygon fill="#A80036" points="778,144.5625,788,148.5625,778,152.5625,782,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="784" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="598" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="611" y="143.4966">getListClients()</text><polygon fill="#A80036" points="960.5,173.6953,970.5,177.6953,960.5,181.6953,964.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="800" x2="966.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="807" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="819" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="1089,257.8281,1099,261.8281,1089,265.8281,1093,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="800" x2="1095" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="820" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="1229.5,341.9609,1239.5,345.9609,1229.5,349.9609,1233.5,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1235.5" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="820" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1391.5,426.0938,1401.5,430.0938,1391.5,434.0938,1395.5,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1397.5" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="820" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1568,485.2266,1578,489.2266,1568,493.2266,1572,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1574" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="820" y="484.1606">listaProdutos = getListaProdutos()</text><polygon fill="#A80036" points="1760.5,544.3594,1770.5,548.3594,1760.5,552.3594,1764.5,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1766.5" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="820" y="543.2935">getEncomenda()</text><polygon fill="#A80036" points="1937,603.4922,1947,607.4922,1937,611.4922,1941,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1943" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="807" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="820" y="602.4263">preco = getPreco()</text><polygon fill="#A80036" points="1937,662.625,1947,666.625,1937,670.625,1941,666.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1943" y1="666.625" y2="666.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="807" y="661.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="830" y="661.5591">taxa = getTaxa()</text><polygon fill="#A80036" points="2112.5,721.7578,2122.5,725.7578,2112.5,729.7578,2116.5,725.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="2118.5" y1="725.7578" y2="725.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="807" y="720.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="829" y="720.6919">idPagamento = generateIdPagamento()</text><polygon fill="#A80036" points="2112.5,750.8906,2122.5,754.8906,2112.5,758.8906,2116.5,754.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="2118.5" y1="754.8906" y2="754.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="807" y="749.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="829" y="749.8247">novoPagamento(idPagamento, preco, taxa)</text><polygon fill="#A80036" points="2291.5,780.0234,2301.5,784.0234,2291.5,788.0234,2295.5,784.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2129.5" x2="2297.5" y1="784.0234" y2="784.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2136.5" y="778.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="2157.5" y="778.9575">create(preco, taxa)</text><rect fill="#FEFECE" filter="url(#f1y0ealuycxhyp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="2303.5" y="762.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="2310.5" y="782.8857">pag: Pagamento</text><polygon fill="#A80036" points="50,825.3203,40,829.3203,50,833.3203,46,829.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="585" y1="829.3203" y2="829.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="56" y="824.2544">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="78" y="824.2544">apresenta o preco e a lista de produtos da encomenda e solicita confirmação</text><polygon fill="#A80036" points="569,854.4531,579,858.4531,569,862.4531,573,858.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="575" y1="858.4531" y2="858.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="46" y="853.3872">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="68" y="853.3872">confirma</text><polygon fill="#A80036" points="778,883.5859,788,887.5859,778,891.5859,782,887.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="784" y1="887.5859" y2="887.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="598" y="882.52">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="620" y="882.52">registaPagamento()</text><polygon fill="#A80036" points="2112.5,912.7188,2122.5,916.7188,2112.5,920.7188,2116.5,916.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="2118.5" y1="916.7188" y2="916.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="807" y="911.6528">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="829" y="911.6528">registaPagamento(pag)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2134.5" x2="2176.5" y1="945.8516" y2="945.8516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2176.5" x2="2176.5" y1="945.8516" y2="958.8516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2135.5" x2="2176.5" y1="958.8516" y2="958.8516"/><polygon fill="#A80036" points="2145.5,954.8516,2135.5,958.8516,2145.5,962.8516,2141.5,958.8516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2141.5" y="940.7856">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="2163.5" y="940.7856">validaPagamento(pag)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2134.5" x2="2176.5" y1="992.9844" y2="992.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2176.5" x2="2176.5" y1="992.9844" y2="1005.9844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2129.5" x2="2176.5" y1="1005.9844" y2="1005.9844"/><polygon fill="#A80036" points="2139.5,1001.9844,2129.5,1005.9844,2139.5,1009.9844,2135.5,1005.9844" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2141.5" y="987.9185">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="2163.5" y="987.9185">addPagamento(pag)</text><polygon fill="#A80036" points="45,1026.1172,35,1030.1172,45,1034.1172,41,1030.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="585" y1="1030.1172" y2="1030.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="51" y="1025.0513">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="74" y="1025.0513">informa o sucesso da operação</text><!--MD5=[da9d2a5a93ee4239d513cbb83dc3c93c]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":RealizaPagamentoUI" as UI
participant ":RealizaPagamentoController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":ProdutoDataHandler" as PDH
participant ":EncomendaDataHandler" as EDH
participant "enc: Encomenda" as ENC
participant ":PagamentoDataHandler" as PAD
participant "pag: Pagamento" as PAG


CLI - -> UI : pretende realizar o pagamento
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> PDH : listaProdutos = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> EDH : getEncomenda()
activate EDH
deactivate EDH

CTRL - -> ENC : preco = getPreco()
activate ENC
deactivate ENC

CTRL - -> ENC : taxa = getTaxa()
activate ENC
deactivate ENC

CTRL - -> PAD : idPagamento = generateIdPagamento()
activate PAD
CTRL - -> PAD : novoPagamento(idPagamento, preco, taxa)

PAD - -> PAG ** : create(preco, taxa)
deactivate PAD

deactivate CTRL

UI - -> CLI : apresenta o preco e a lista de produtos da encomenda e solicita confirmação
deactivate UI

deactivate CTRL

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaPagamento()
activate CTRL

CTRL - -> PAD : registaPagamento(pag)
activate PAD

PAD - -> PAD : validaPagamento(pag)
PAD - -> PAD : addPagamento(pag)

deactivate PAD

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":RealizaPagamentoUI" as UI
participant ":RealizaPagamentoController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":ProdutoDataHandler" as PDH
participant ":EncomendaDataHandler" as EDH
participant "enc: Encomenda" as ENC
participant ":PagamentoDataHandler" as PAD
participant "pag: Pagamento" as PAG


CLI - -> UI : pretende realizar o pagamento
activate CLI
activate UI

UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> PDH : listaProdutos = getListaProdutos()
activate PDH
deactivate PDH

CTRL - -> EDH : getEncomenda()
activate EDH
deactivate EDH

CTRL - -> ENC : preco = getPreco()
activate ENC
deactivate ENC

CTRL - -> ENC : taxa = getTaxa()
activate ENC
deactivate ENC

CTRL - -> PAD : idPagamento = generateIdPagamento()
activate PAD
CTRL - -> PAD : novoPagamento(idPagamento, preco, taxa)

PAD - -> PAG ** : create(preco, taxa)
deactivate PAD

deactivate CTRL

UI - -> CLI : apresenta o preco e a lista de produtos da encomenda e solicita confirmação
deactivate UI

deactivate CTRL

CLI - -> UI : confirma
activate UI

UI - -> CTRL : registaPagamento()
activate CTRL

CTRL - -> PAD : registaPagamento(pag)
activate PAD

PAD - -> PAD : validaPagamento(pag)
PAD - -> PAD : addPagamento(pag)

deactivate PAD

deactivate CTRL

UI - -> CLI : informa o sucesso da operação
deactivate UI
deactivate CLI
@enduml

PlantUML version 1.2020.27beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>