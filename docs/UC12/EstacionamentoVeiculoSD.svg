<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="704px" preserveAspectRatio="none" style="width:1131px;height:704px;" version="1.1" viewBox="0 0 1131 704" width="1131px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bc2ys87x5pz1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="490.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="490.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="250.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="232.8281"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="728" y="291.9609"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860" y="351.0938"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="410.2266"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="147.7969" style="stroke:#000000;stroke-width:2.0;" width="978" x="139" y="455.2266"/><rect fill="#FFFFFF" height="47.2656" style="stroke:none;stroke-width:1.0;" width="978" x="139" y="555.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="255" x2="255" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="599" x2="599" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="733" x2="733" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="865" x2="865" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="969" x2="969" y1="88.2969" y2="620.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1068" x2="1068" y1="88.2969" y2="620.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="84.9951">Plataforma</text><ellipse cx="47.5" cy="15" fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47.5,23 L47.5,50 M34.5,31 L60.5,31 M47.5,50 L34.5,65 M47.5,50 L60.5,65 " fill="none" filter="url(#f1bc2ys87x5pz1)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="632.0186">Plataforma</text><ellipse cx="47.5" cy="645.3203" fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47.5,653.3203 L47.5,680.3203 M34.5,661.3203 L60.5,661.3203 M47.5,680.3203 L34.5,695.3203 M47.5,680.3203 L60.5,695.3203 " fill="none" filter="url(#f1bc2ys87x5pz1)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="209" x="149" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="156" y="72.9951">:EstacionamentoController</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="209" x="149" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="156" y="639.0186">:EstacionamentoController</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="554" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="561" y="72.9951">VeiculoDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="554" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="561" y="639.0186">VeiculoDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="152" x="655" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="662" y="72.9951">EstacionamentoDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="152" x="655" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="662" y="639.0186">EstacionamentoDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="84" x="821" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="828" y="72.9951">ParqueDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="84" x="821" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="828" y="639.0186">ParqueDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="919" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="926" y="72.9951">EstafetaDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="919" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="926" y="639.0186">EstafetaDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1029" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1036" y="72.9951">EmailDB</text><rect fill="#FEFECE" filter="url(#f1bc2ys87x5pz1)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1029" y="619.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1036" y="639.0186">EmailDB</text><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="490.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="490.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="250.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="232.8281"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="728" y="291.9609"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="860" y="351.0938"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="410.2266"/><polygon fill="#A80036" points="238.5,115.4297,248.5,119.4297,238.5,123.4297,242.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52.5" x2="244.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="59.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="72.5" y="114.3638">checkParkings(String path)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="302.5" y1="148.5625" y2="148.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="302.5" x2="302.5" y1="148.5625" y2="161.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="261.5" x2="302.5" y1="161.5625" y2="161.5625"/><polygon fill="#A80036" points="271.5,157.5625,261.5,161.5625,271.5,165.5625,267.5,161.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="280.5" y="143.4966">checkDirectory(String path)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="302.5" y1="190.6953" y2="190.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="302.5" x2="302.5" y1="190.6953" y2="203.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="261.5" x2="302.5" y1="203.6953" y2="203.6953"/><polygon fill="#A80036" points="271.5,199.6953,261.5,203.6953,271.5,207.6953,267.5,203.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="267.5" y="185.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="279.5" y="185.6294">simulateParkingVeiculo(String path)</text><polygon fill="#A80036" points="582.5,228.8281,592.5,232.8281,582.5,236.8281,586.5,232.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="588.5" y1="232.8281" y2="232.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="227.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="280.5" y="227.7622">veiculo = getVeiculoById(VeiculoId)</text><polygon fill="#A80036" points="716,287.9609,726,291.9609,716,295.9609,720,291.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="722" y1="291.9609" y2="291.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="286.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="280.5" y="286.895">estacionamento = getEstacionamentoById(numeroLote)</text><polygon fill="#A80036" points="848,347.0938,858,351.0938,848,355.0938,852,351.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="854" y1="351.0938" y2="351.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="346.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="280.5" y="346.0278">parque = getParqueByID(idParque)</text><polygon fill="#A80036" points="952,406.2266,962,410.2266,952,414.2266,956,410.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="958" y1="410.2266" y2="410.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="405.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="280.5" y="405.1606">estafeta = getUtilizadorEstafetaByNIF(nifEstafeta)</text><path d="M139,455.2266 L205,455.2266 L205,462.2266 L195,472.2266 L139,472.2266 L139,455.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="147.7969" style="stroke:#000000;stroke-width:2.0;" width="978" x="139" y="455.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="154" y="468.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="220" y="467.437">[estimativa = -1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="302.5" y1="499.5586" y2="499.5586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="302.5" x2="302.5" y1="499.5586" y2="512.5586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="261.5" x2="302.5" y1="512.5586" y2="512.5586"/><polygon fill="#A80036" points="271.5,508.5586,261.5,512.5586,271.5,516.5586,267.5,512.5586" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="494.4927">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="280.5" y="494.4927">notificaEstafeta(false,estimativa,emailEstafeta)</text><path d="M599,477.3594 L599,517.3594 L927,517.3594 L927,487.3594 L917,477.3594 L599,477.3594 " fill="#FBFB77" filter="url(#f1bc2ys87x5pz1)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M917,477.3594 L917,487.3594 L927,487.3594 L917,477.3594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="605" y="494.4263">"estimativa = -1" ocorre quando a simulação de</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="605" y="509.5591">estacionamento é mal efetuada</text><polygon fill="#A80036" points="1056,543.7578,1066,547.7578,1056,551.7578,1060,547.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="1062" y1="547.7578" y2="547.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="267.5" y="542.6919">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="280.5" y="542.6919">sendEmail(emailOrig, email, assunto, mensagem);</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="139" x2="1117" y1="556.7578" y2="556.7578"/><rect fill="#FFFFFF" filter="url(#f1bc2ys87x5pz1)" height="40.2656" style="stroke:#000000;stroke-width:2.0;" width="215" x="146" y="557.7578"/><polygon fill="#EEEEEE" points="146,557.7578,214,557.7578,214,564.7578,204,574.7578,146,574.7578,146,557.7578" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="159" y="571.8247">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="179" y="590.8247">SimulaçãoBemEfetuada</text><!--MD5=[b29050a1cbf1406dc602e3a36876dce8]
@startuml
autonumber

actor "Plataforma" as MAIN
participant ":EstacionamentoController" as NCONT

MAIN -> NCONT: checkParkings(String path)
activate MAIN
activate NCONT

NCONT -> NCONT: checkDirectory(String path)
NCONT -> NCONT: simulateParkingVeiculo(String path)
NCONT -> "VeiculoDB": veiculo = getVeiculoById(VeiculoId)
activate "VeiculoDB"
deactivate "VeiculoDB"
NCONT -> "EstacionamentoDB": estacionamento = getEstacionamentoById(numeroLote)
activate "EstacionamentoDB"
deactivate "EstacionamentoDB"
NCONT -> "ParqueDB": parque = getParqueByID(idParque)
activate "ParqueDB"
deactivate "ParqueDB"
NCONT -> "EstafetaDB": estafeta = getUtilizadorEstafetaByNIF(nifEstafeta)
activate "EstafetaDB"
deactivate "EstafetaDB"

alt estimativa = -1
    NCONT -> NCONT: notificaEstafeta(false,estimativa,emailEstafeta)
    note right: "estimativa = -1" ocorre quando a simulação de\nestacionamento é mal efetuada
    NCONT -> "EmailDB": sendEmail(emailOrig, email, assunto, mensagem);
else
    ref over NCONT
    SimulaçãoBemEfetuada
    end ref
end
deactivate MAIN
deactivate NCONT
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>