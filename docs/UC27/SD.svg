<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="956px" preserveAspectRatio="none" style="width:1836px;height:956px;" version="1.1" viewBox="0 0 1836 956" width="1836px" zoomAndPan="magnify"><defs><filter height="300%" id="fumtyyiidigv4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="735.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="735.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="287" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="488.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="515" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="515" y="666.625"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683" y="177.6953"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="811.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="952" y="345.9609"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1114" y="430.0938"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1304" y="489.2266"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493" y="607.4922"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493" y="695.7578"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1662" y="548.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="292" x2="292" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="520" x2="520" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="688" x2="688" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="816" x2="816" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="957" x2="957" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1119" x2="1119" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1309" x2="1309" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1498" x2="1498" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1666.5" x2="1666.5" y1="88.2969" y2="872.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1778.5" x2="1778.5" y1="736.4063" y2="872.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="84.9951">Cliente</text><ellipse cx="34" cy="15" fill="#FEFECE" filter="url(#fumtyyiidigv4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,23 L34,50 M21,31 L47,31 M34,50 L21,65 M34,50 L47,65 " fill="none" filter="url(#fumtyyiidigv4)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="5" y="884.4482">Cliente</text><ellipse cx="34" cy="897.75" fill="#FEFECE" filter="url(#fumtyyiidigv4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M34,905.75 L34,932.75 M21,913.75 L47,913.75 M34,932.75 L21,947.75 M34,932.75 L47,947.75 " fill="none" filter="url(#fumtyyiidigv4)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="120" x="230" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="237" y="72.9951">:EnviaReciboUI</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="120" x="230" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="237" y="891.4482">:EnviaReciboUI</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="180" x="428" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="435" y="72.9951">:EnviaReciboController</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="180" x="428" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="435" y="891.4482">:EnviaReciboController</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="630" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="637" y="72.9951">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="630" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="637" y="891.4482">AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="756" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="800.5" y="56.6982">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="763" y="72.9951">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="117" x="756" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="800.5" y="891.4482">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="763" y="907.7451">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="887" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="931.5" y="56.6982">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="894" y="72.9951">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="136" x="887" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="931.5" y="891.4482">sessao</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="894" y="907.7451">:SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1037" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1044" y="72.9951">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1037" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1044" y="891.4482">:ClienteDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1211" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1218" y="72.9951">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1211" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1218" y="891.4482">:EncomendaDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="1417" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1424" y="72.9951">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="158" x="1417" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1424" y="891.4482">:ReciboDataHandler</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="103" x="1613.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1620.5" y="72.9951">:Encomenda</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="103" x="1613.5" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1620.5" y="891.4482">:Encomenda</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1730.5" y="871.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1737.5" y="891.4482">rec:Recibo</text><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="735.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="29" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="735.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="287" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="488.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="515" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="151.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="515" y="666.625"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683" y="177.6953"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="811.5" y="261.8281"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="952" y="345.9609"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1114" y="430.0938"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1304" y="489.2266"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493" y="607.4922"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="122.5625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1493" y="695.7578"/><rect fill="#FFFFFF" filter="url(#fumtyyiidigv4)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1662" y="548.3594"/><polygon fill="#A80036" points="275,115.4297,285,119.4297,275,123.4297,279,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="281" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="46" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="59" y="114.3638">Acaba de efetuar a encomenda</text><polygon fill="#A80036" points="503,144.5625,513,148.5625,503,152.5625,507,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="509" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="304" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="317" y="143.4966">getListClients()</text><polygon fill="#A80036" points="671,173.6953,681,177.6953,671,181.6953,675,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="525" x2="677" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="532" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="544" y="172.6294">app = getInstance()</text><polygon fill="#A80036" points="799.5,257.8281,809.5,261.8281,799.5,265.8281,803.5,261.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="525" x2="805.5" y1="261.8281" y2="261.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="256.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="545" y="256.7622">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="940,341.9609,950,345.9609,940,349.9609,944,345.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="946" y1="345.9609" y2="345.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="340.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="545" y="340.895">email = getEmail()</text><polygon fill="#A80036" points="1102,426.0938,1112,430.0938,1102,434.0938,1106,430.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="1108" y1="430.0938" y2="430.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="425.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="545" y="425.0278">cliente = getClienteByEmail(email)</text><polygon fill="#A80036" points="1292,485.2266,1302,489.2266,1292,493.2266,1296,489.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="1298" y1="489.2266" y2="489.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="484.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="545" y="484.1606">getEncomenda()</text><polygon fill="#A80036" points="1650,544.3594,1660,548.3594,1650,552.3594,1654,548.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="1656" y1="548.3594" y2="548.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="543.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="545" y="543.2935">dataRecibo = getDataPedida()</text><polygon fill="#A80036" points="1481,603.4922,1491,607.4922,1481,611.4922,1485,607.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="1487" y1="607.4922" y2="607.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532" y="602.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="545" y="602.4263">id = generateIdRecibo()</text><polygon fill="#A80036" points="503,662.625,513,666.625,503,670.625,507,666.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="509" y1="666.625" y2="666.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="304" y="661.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="327" y="661.5591">novoRecibo(id, dataRecibo)</text><polygon fill="#A80036" points="1481,691.7578,1491,695.7578,1481,699.7578,1485,695.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525" x2="1487" y1="695.7578" y2="695.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="532" y="690.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="554" y="690.6919">create(id, dataRecibo)</text><polygon fill="#A80036" points="1718.5,720.8906,1728.5,724.8906,1718.5,728.8906,1722.5,724.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1503" x2="1724.5" y1="724.8906" y2="724.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1510" y="719.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1532" y="719.8247">create(id, dataRecibo)</text><rect fill="#FEFECE" filter="url(#fumtyyiidigv4)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1730.5" y="703.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1737.5" y="723.7529">rec:Recibo</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1503" x2="1545" y1="770.1875" y2="770.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1545" x2="1545" y1="770.1875" y2="783.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1504" x2="1545" y1="783.1875" y2="783.1875"/><polygon fill="#A80036" points="1514,779.1875,1504,783.1875,1514,787.1875,1510,783.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1510" y="765.1216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1531" y="765.1216">validateRecibo(rec)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1503" x2="1545" y1="817.3203" y2="817.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1545" x2="1545" y1="817.3203" y2="830.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1498" x2="1545" y1="830.3203" y2="830.3203"/><polygon fill="#A80036" points="1508,826.3203,1498,830.3203,1508,834.3203,1504,830.3203" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1510" y="812.2544">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1532" y="812.2544">addRecibo(rec)</text><polygon fill="#A80036" points="45,850.4531,35,854.4531,45,858.4531,41,854.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39" x2="291" y1="854.4531" y2="854.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="51" y="849.3872">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="73" y="849.3872">Gera o recibo e finaliza a tarefa</text><!--MD5=[20fd22952d87ed41628e743d17e6a251]
@startuml
autonumber
'hide footbox
actor "Cliente" as CLI

participant ":EnviaReciboUI" as UI
participant ":EnviaReciboController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":EncomendaDataHandler" as EDH
participant ":ReciboDataHandler" as RDH
participant ":Encomenda" as ENC
participant "rec:Recibo" as REC



CLI - -> UI : Acaba de efetuar a encomenda
activate CLI

activate UI
UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> EDH : getEncomenda()
activate EDH
deactivate EDH

CTRL - -> ENC : dataRecibo = getDataPedida()
activate ENC
deactivate ENC

CTRL - -> RDH : id = generateIdRecibo()
activate RDH
deactivate RDH

deactivate CTRL

UI - -> CTRL : novoRecibo(id, dataRecibo)
activate CTRL

CTRL - -> RDH : create(id, dataRecibo)
activate RDH

RDH - -> REC ** : create(id, dataRecibo)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : Gera o recibo e finaliza a tarefa
deactivate UI

deactivate CLI
@enduml

@startuml
autonumber
actor "Cliente" as CLI

participant ":EnviaReciboUI" as UI
participant ":EnviaReciboController" as CTRL
participant "AplicacaoPOT" as _APP
participant "app\n:AplicacaoPOT" as APP
participant "sessao\n:SessaoUtilizador" as SESSAO
participant ":ClienteDataHandler" as CDH
participant ":EncomendaDataHandler" as EDH
participant ":ReciboDataHandler" as RDH
participant ":Encomenda" as ENC
participant "rec:Recibo" as REC



CLI - -> UI : Acaba de efetuar a encomenda
activate CLI

activate UI
UI - -> CTRL : getListClients()
activate CTRL

CTRL -> _APP: app = getInstance()
activate _APP
|||
deactivate _APP

CTRL -> APP: sessao = getSessaoAtual()
activate APP
|||
deactivate APP

CTRL - -> SESSAO : email = getEmail()
activate SESSAO
|||
deactivate SESSAO


CTRL - -> CDH : cliente = getClienteByEmail(email)
activate CDH
deactivate CDH

CTRL - -> EDH : getEncomenda()
activate EDH
deactivate EDH

CTRL - -> ENC : dataRecibo = getDataPedida()
activate ENC
deactivate ENC

CTRL - -> RDH : id = generateIdRecibo()
activate RDH
deactivate RDH

deactivate CTRL

UI - -> CTRL : novoRecibo(id, dataRecibo)
activate CTRL

CTRL - -> RDH : create(id, dataRecibo)
activate RDH

RDH - -> REC ** : create(id, dataRecibo)

RDH - -> RDH : validateRecibo(rec)

RDH - -> RDH : addRecibo(rec)
deactivate RDH

deactivate CTRL

UI - -> CLI : Gera o recibo e finaliza a tarefa
deactivate UI

deactivate CLI
@enduml

PlantUML version 1.2020.27beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>